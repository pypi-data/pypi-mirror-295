{% load l10n formify %}

<div id="div_{{ field.auto_id }}" class="{{ formify_helper.wrapper_class }}" >

  {% if field.label and formify_helper.form_show_labels %}
      <label for="{{ field.id_for_label }}" class="{% if formify_helper.label_class %}{{ formify_helper.label_class }}{% else %}block text-gray-700 text-sm font-bold mb-2{% endif %}">
          {{ field.label|safe }}{% if field.field.required %}<span class="asteriskField">*</span>{% endif %}
      </label>
  {% endif %}

  <div {% if flat_attrs %} {{ flat_attrs|safe }}{% endif %}>
    <div class="relative">
      <select class="bg-white focus:outline-none border {% if field.errors %}border-red-500 {% else %}border-gray-300 {% endif %}rounded-lg py-2 px-4 block w-full appearance-none leading-normal text-gray-700" name="{{ field.html_name }}" {{ field|build_attrs }}>
        {% for group, options, index in field|optgroups %}
          {% if group %}<optgroup label="{{ group }}">{% endif %}
            {% for option in options %}
              {% include "formify/tailwind/select_option.html" %}
            {% endfor %}
          {% if group %}</optgroup>{% endif %}
        {% endfor %}
      </select>
    </div>
  </div>

  {% include 'formify/tailwind/help_text_and_errors.html' %}

</div>