{% load formify l10n %}

<div id="div_{{ field.auto_id }}" class="{{ formify_helper.wrapper_class }}">

  {% if field.label and formify_helper.form_show_labels %}
    <label for="{{ field.id_for_label }}" class="{% if formify_helper.label_class %}{{ formify_helper.label_class }}{% else %}block text-gray-700 text-sm font-bold mb-2{% endif %}">
      {{ field.label|safe }}{% if field.field.required %}<span class="asteriskField">*</span>{% endif %}
    </label>
  {% endif %}

  <div class="{{ formify_helper.field_class }}" {% if flat_attrs %} {{ flat_attrs|safe }}{% endif %}>
     {% for choice in field.field.choices %}
        <div class="mr-3">
            <label class="inline-flex items-center gap-1 text-gray-700" for="id_{{ field.html_name }}_{{ forloop.counter }}">
              <input type="checkbox" class="{{ css_container.checkboxselectmultiple }}"{% if choice.0 in field.value or choice.0|stringformat:"s" in field.value or choice.0|stringformat:"s" == field.value|default_if_none:""|stringformat:"s" %} checked="checked"{% endif %} name="{{ field.html_name }}" id="id_{{ field.html_name }}_{{ forloop.counter }}" value="{{ choice.0|unlocalize }}" {{ field.field.widget.attrs|flatatt }}>
              {% comment %}line break here would cause extra white space around the checkbox{% endcomment %}
              {{ choice.1|unlocalize }}
            </label>
        </div>
    {% endfor %}
  </div>

  {% include 'formify/tailwind/help_text_and_errors.html' %}

</div>
