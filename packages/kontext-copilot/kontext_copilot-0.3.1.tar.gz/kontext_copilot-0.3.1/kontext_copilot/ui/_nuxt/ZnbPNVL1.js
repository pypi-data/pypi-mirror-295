import{_ as N}from"./IwrnoZzV.js";import{_ as R,a as $}from"./CEBxExZW.js";import{f as j,I as E,r as m,ad as G,ar as q,y as D,h as A,E as O,i as h,w as s,o as u,b as _,k as a,S as f,a as e,c as P,d as b,F as z,l as H,L as g,a9 as x,j as I,aq as J,as as K,V as Q,M as W,v as X,t as Y}from"./BWjPiaP2.js";import{u as Z}from"./tBeo__Vx.js";import"./B0cM9OSk.js";import"./B1S_wgaZ.js";const ee={class:"px-4 mt-3"},te=e("p",{class:"text-muted"}," Test your prompts with this utility or select examples from the dropdown list to get started. ",-1),oe={key:0,class:"row d-flex gap-4"},ae={class:"col-md d-flex flex-column gap-4 justify-content-center mb-3"},le={class:"col-md"},se={class:"col-md"},ne=e("label",{for:"systemPromptInput",class:"form-label"},"System prompt",-1),re={class:"col-md"},me=e("label",{for:"promptInput",class:"form-label"},"Prompt",-1),de={class:"col-md"},pe=e("label",{for:"userInput",class:"form-label"},"User input",-1),ie=e("span",{class:"text-muted ms-1"},"(Placeholder {{ $input }} in your prompt.)",-1),ce={class:"col-md"},ue=e("label",{for:"userInput",class:"form-label"},"Response ",-1),_e=["disabled"],Ve=j({__name:"prompt-engineering",setup(fe){const l=E({streaming:!1,format:""}),d=m(),n=m(""),r=m(),y=G(),p=y.state,V=q(),v=m(null),S=m([]),i=m(null),B=D(()=>(n.value??"").length===0||p.generating);A(async()=>{S.value=await V.getPromptTemplates()}),O(()=>v.value,async c=>{c&&await C(c)});const w=async()=>{if(!l.model)throw new J;r.value&&y.generate(n.value,r.value,l.model,l.format,l.streaming,void 0,d.value)},C=async c=>{i.value=await V.getPromptTemplate(c),i.value&&(d.value=i.value.systemPrompt,n.value=i.value.prompt,r.value=i.value.userInput,w())};return Z(),(c,o)=>{const k=N,U=$,T=K,L=Q,M=W,F=X;return u(),h(R,null,{"header-secondary":s(()=>[_(k,{modelValue:a(l),"onUpdate:modelValue":o[0]||(o[0]=t=>f(l)?l.value=t:null),"settings-button":"","streaming-toggle":"","json-toogle":"","streaming-default":!0},null,8,["modelValue"])]),"header-tools":s(()=>[_(U,{simple:""})]),default:s(()=>[e("div",ee,[te,a(y)?(u(),P("div",oe,[e("div",ae,[e("div",le,[_(L,{modelValue:a(v),"onUpdate:modelValue":o[1]||(o[1]=t=>f(v)?v.value=t:null),"aria-label":"Select prompt template",class:"col-md"},{default:s(()=>[_(T,{selected:"",value:"null"},{default:s(()=>[b(" Select prompt template ")]),_:1}),(u(!0),P(z,null,H(a(S),t=>(u(),h(T,{key:t.id,value:t.id},{default:s(()=>[b(Y(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e("div",se,[ne,g(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=t=>f(d)?d.value=t:null),class:"form-control main-textarea",type:"text",placeholder:"System prompt"},null,512),[[x,a(d)]])]),e("div",re,[me,g(e("textarea",{"onUpdate:modelValue":o[3]||(o[3]=t=>f(n)?n.value=t:null),class:"form-control main-textarea",type:"text",placeholder:"Prompt template"},null,512),[[x,a(n)]])]),e("div",de,[pe,ie,g(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=t=>f(r)?r.value=t:null),class:"form-control main-textarea",type:"text",placeholder:"User input"},null,512),[[x,a(r)]])]),e("div",null,[_(F,{variant:"primary",disabled:a(B),onClick:w},{default:s(()=>[b(" Generate "),a(p).generating?(u(),h(M,{key:0,small:""})):I("",!0)]),_:1},8,["disabled"])])]),e("div",ce,[ue,g(e("textarea",{"onUpdate:modelValue":o[5]||(o[5]=t=>a(p).generatedContent=t),class:"form-control main-textarea",type:"text",rows:"8",placeholder:"Generated response",disabled:a(p).generating},null,8,_e),[[x,a(p).generatedContent]])])])):I("",!0)])]),_:1})}}});export{Ve as default};
