import{f as T,ap as Y,h as Z,y as k,o as s,i as g,w as x,b as n,k as o,c as f,F as b,d as B,t as h,l as C,a as e,j as N,_ as z,G as U,n as E,aw as ee,av as q,r as M,at as H,K as j,ax as D,L as A,a8 as P,q as F,ay as G,p as te,e as se,au as O,ac as K,S as L,al as oe,az as ne,v as le,x as ae,aA as ie,a3 as de,E as ce,aB as I,aC as re,aD as me}from"./P6BhpD9n.js";import{_ as ue}from"./kw-g4pqB.js";import{_ as R,u as _e}from"./DjlNrOf-.js";const pe={class:"d-flex flex-column cursor-pointer"},fe={class:"d-flex gap-3"},he={class:"fw-bold"},ve={class:"text-muted"},ge=T({__name:"model-selector",props:{simple:{type:Boolean,default:!1}},setup(y,{expose:t}){const{models:v,defaultModel:c,setDefaultModel:p,getModels:l}=Y(),u=a=>{p(a)};Z(()=>{l()});const r=k(()=>{var a;return(a=c.value)==null?void 0:a.name});return t({selectedModelName:r}),(a,m)=>{const w=z,d=U,_=E,S=ee;return s(),g(S,{size:"sm"},{default:x(()=>[n(_,{variant:y.simple?"link":"outline-secondary",size:"sm"},{"button-content":x(()=>[o(c)?(s(),f(b,{key:0},[B(h(o(c).name)+" "+h(o(c).details.parameterSize)+" ",1),n(w,{name:"material-symbols:arrow-drop-down"})],64)):(s(),f(b,{key:1},[B(" Loading ")],64))]),default:x(()=>[(s(!0),f(b,null,C(o(v),i=>(s(),g(d,{key:i.name,class:"border-bottom",onClick:$=>u(i)},{default:x(()=>{var $;return[e("div",pe,[e("div",fe,[e("span",he,h(i.name)+" "+h(i.details.parameterSize),1),(($=o(c))==null?void 0:$.name)===i.name?(s(),g(w,{key:0,name:"material-symbols:check",class:"text-primary"})):N("",!0)]),e("div",ve," family: "+h(i.details.family)+"; quantization: "+h(i.details.quantizationLevel)+"; format: "+h(i.details.format),1)])]}),_:2},1032,["onClick"]))),128))]),_:1},8,["variant"])]),_:1})}}}),xe=y=>(te("data-v-2b0a715d"),y=y(),se(),y),be={class:"nav-item"},ye=xe(()=>e("hr",null,null,-1)),ke={class:"ms-1"},we={class:"nav flex-column ms-3"},$e={class:"ms-1"},Se=T({__name:"nav-item",props:{id:{},to:{},icon:{},text:{},children:{},flat:{type:Boolean},hidden:{type:Boolean}},setup(y){const t=y,v=q(),c=M(!1),p=M(!1),l=k(()=>{var d;return t.children&&((d=t.children)==null?void 0:d.length)>0}),u="collapse-"+t.id;H(()=>{var d;c.value=v.path===t.to,p.value=((d=t.children)==null?void 0:d.some(_=>v.path===_.to))??!1});const r=M(!1),a=k(()=>r.value?"material-symbols:keyboard-arrow-down":"material-symbols:keyboard-arrow-up"),m=()=>{r.value=!1},w=()=>{r.value=!0};return(d,_)=>{const S=J,i=z,$=F,W=G,Q=ue,X=j("b-toggle");return s(),f("li",be,[o(l)?(s(),f(b,{key:0},[d.flat?(s(),f(b,{key:0},[(s(!0),f(b,null,C(t.children,V=>(s(),g(S,D({key:V.id,ref_for:!0},V),null,16))),128)),ye],64)):(s(),f(b,{key:1},[A((s(),g($,{class:P(["nav-link d-flex align-items-center mx-2 mb-1",{active:o(p)}])},{default:x(()=>[n(i,{name:d.icon,size:"20"},null,8,["name"]),e("span",ke,h(d.text),1),n(i,{name:o(a),size:"20",class:"ms-auto"},null,8,["name"])]),_:1},8,["class"])),[[X,u]]),(s(),g(W,{id:u,key:d.id,ref:"collapseEl",visible:"",onShown:m,onHidden:w},{default:x(()=>[e("ul",we,[(s(!0),f(b,null,C(t.children,V=>(s(),g(S,D({key:V.id,ref_for:!0},V),null,16))),128))])]),_:1}))],64))],64)):(s(),g(Q,{key:1,to:d.to,class:P(["nav-link d-flex align-items-center mx-2 mb-1",{active:o(c)}])},{default:x(()=>[n(i,{name:d.icon,size:"20"},null,8,["name"]),e("span",$e,h(d.text),1)]),_:1},8,["to","class"]))])}}}),J=R(Se,[["__scopeId","data-v-2b0a715d"]]),Be={class:"nav nav-pills flex-column mb-auto flex-fill mt-3"},Ie=T({__name:"panel",setup(y){const v=O().navItems;return(c,p)=>{const l=J;return s(),f("ul",Be,[(s(!0),f(b,null,C(o(v).filter(u=>!u.hidden),u=>(s(),g(l,D({key:u.id,ref_for:!0},u),null,16))),128))])}}}),Te={class:"d-flex justify-content-between align-items-center"},Ve=e("div",{class:"col-md-8"},[e("h6",null,"Temperature"),e("span",{class:"text-muted"},"Higher temperatures lead to more diverse and creative outputs, while lower temperatures result in more conservative and predictable responses.")],-1),Le={class:"col-md-4"},Ce=e("hr",null,null,-1),Ne={class:"d-flex justify-content-between align-items-center"},ze=e("div",{class:"col-md-8"},[e("h6",null,"Seed"),e("span",{class:"text-muted"},"Used to initialize model's random number generator.")],-1),Me={class:"col-md-4"},Ae=e("hr",null,null,-1),De={class:"d-flex justify-content-between align-items-center"},je=e("div",{class:"col-md-8"},[e("h6",null,"Top K Sampling (top_k)"),e("span",{class:"text-muted"},"Limits the generation to the top k most likely next words. The model will only consider the top k words with the highest probability of occurring next in the sequence. ")],-1),Ke={class:"col-md-4"},Pe=e("hr",null,null,-1),Ue={class:"d-flex justify-content-between align-items-center"},Ee=e("div",{class:"col-md-8"},[e("h6",null,"Top P Sampling (top_p)"),e("span",{class:"text-muted"},'Also known as "nucleus sampling," this parameter filters the cumulative distribution of next-word probabilities, so that the smallest set of words whose cumulative probability exceeds the threshold p is considered. ')],-1),qe={class:"col-md-4"},He=e("hr",null,null,-1),Fe={class:"d-flex justify-content-between align-items-center"},Ge=e("div",{class:"col-md-8"},[e("h6",null,"Endpoint"),e("span",{class:"text-muted"},"The endpoint for Ollama or OpenAI compatible LLMs.")],-1),Oe={class:"col-md-4"},Re=e("hr",null,null,-1),Je=e("hr",null,null,-1),We={class:"d-flex justify-content-between align-items-center"},Qe=e("div",{class:"col-md-8"},[e("h6",null,"API key"),e("span",{class:"text-muted"},"The API key for authenticating with OpenAI services.")],-1),Xe={class:"col-md-4"},Ye=e("hr",null,null,-1),Ze={class:"d-flex justify-content-between align-items-center"},et=e("div",{class:"col-md-8"},[e("h6",null,"Default model"),e("span",{class:"text-muted"},"The default model name.")],-1),tt={class:"col-md-4"},st=T({__name:"settings-panel",setup(y){const t=K(),v=k({get:()=>t.value.llmTemperature,set:r=>{t.value.llmTemperature=Number(r)}}),c=k({get:()=>t.value.llmTopK,set:r=>{t.value.llmTopK=Number(r)}}),p=k({get:()=>t.value.llmTopP,set:r=>{t.value.llmTopP=Number(r)}}),l=k({get:()=>t.value.llmSeed,set:r=>{t.value.llmSeed=Number(r)}}),u=k({get:()=>(t==null?void 0:t.value.llmApiKey)??"",set:r=>{t.value&&(t.value.llmApiKey=r)}});return(r,a)=>{const m=oe,w=ne,d=ge;return o(t)?(s(),f(b,{key:0},[e("div",Te,[Ve,e("div",Le,[n(m,{id:"temperatureRange",modelValue:o(v),"onUpdate:modelValue":a[0]||(a[0]=_=>L(v)?v.value=_:null),type:"range",min:"0",max:"1",step:"0.1",number:""},null,8,["modelValue"]),B(" "+h(o(v)),1)])]),Ce,e("div",Ne,[ze,e("div",Me,[n(m,{id:"seed",modelValue:o(l),"onUpdate:modelValue":a[1]||(a[1]=_=>L(l)?l.value=_:null),type:"range",min:"0",max:"100",step:"1",number:""},null,8,["modelValue"]),B(" "+h(o(l)),1)])]),Ae,e("div",De,[je,e("div",Ke,[n(m,{id:"top_k_range",modelValue:o(c),"onUpdate:modelValue":a[2]||(a[2]=_=>L(c)?c.value=_:null),type:"range",min:"0",max:"100",step:"1",number:""},null,8,["modelValue"]),B(" "+h(o(c)),1)])]),Pe,e("div",Ue,[Ee,e("div",qe,[n(m,{id:"top_p_range",modelValue:o(p),"onUpdate:modelValue":a[3]||(a[3]=_=>L(p)?p.value=_:null),type:"range",min:"0",max:"1",step:"0.05",number:""},null,8,["modelValue"]),B(" "+h(o(p)),1)])]),He,e("div",Fe,[Ge,e("div",Oe,[n(m,{id:"endpoint",modelValue:o(t).llmEndpoint,"onUpdate:modelValue":a[4]||(a[4]=_=>o(t).llmEndpoint=_)},null,8,["modelValue"])])]),Re,n(w),Je,e("div",We,[Qe,e("div",Xe,[n(m,{id:"apikey",modelValue:o(u),"onUpdate:modelValue":a[5]||(a[5]=_=>L(u)?u.value=_:null)},null,8,["modelValue"])])]),Ye,e("div",Ze,[et,e("div",tt,[n(d)])])],64)):N("",!0)}}}),ot={};function nt(y,t){const v=z,c=le,p=st,l=ae,u=j("b-modal");return s(),f(b,null,[A((s(),g(c,{variant:"link",size:"sm",class:"d-flex align-items-center",title:"LLMs settings"},{default:x(()=>[n(v,{name:"material-symbols:neurology-outline",size:"20"})]),_:1})),[[u,void 0,void 0,{llmsSettingsModal:!0}]]),n(l,{id:"llmsSettingsModal",title:"LLMs settings","ok-only":"",size:"lg"},{default:x(()=>[n(p)]),_:1})],64)}const lt=R(ot,[["render",nt]]),at={class:"d-flex align-items-center cursor-pointer"},it=T({__name:"theme-toggle",props:{simple:{type:Boolean}},setup(y){const t="btn-theme-toogle-"+ie("$eDuwxsaMui"),v=de({selector:"html",storageKey:"theme"}),c=K(),p=k(()=>c.value.generalTheme),l=k(()=>!c);ce(p,m=>{m&&(v.value=m)});const u=M([{key:"light",name:"Light",iconName:"material-symbols:light-mode-outline-rounded"},{key:"dark",name:"Dark",iconName:"material-symbols:dark-mode-outline-rounded"},{key:"auto",name:"System",iconName:"material-symbols:brightness-auto-outline"}]),r=k(()=>u.value.find(m=>m.key===p.value)??u.value[0]),a=m=>{c.value.generalTheme=m};return(m,w)=>{const d=z,_=U,S=E;return s(),g(S,{id:t,variant:m.simple?"link":"outline-secondary",disabled:o(l)},{"button-content":x(()=>{var i,$;return[n(d,{name:(i=o(r))==null?void 0:i.iconName,class:"me-1"},null,8,["name"]),m.simple?N("",!0):(s(),f(b,{key:0},[B(h(($=o(r))==null?void 0:$.name),1)],64)),n(d,{name:"material-symbols:arrow-drop-down"})]}),default:x(()=>[(s(!0),f(b,null,C(o(u),i=>(s(),g(_,{key:i.key,disabled:i.key===o(p),onClick:$=>a(i.key)},{default:x(()=>[e("span",at,[n(d,{name:i.iconName,class:"me-1"},null,8,["name"]),e("span",null,h(i.name),1),i.key===o(p)?(s(),g(d,{key:0,name:"material-symbols:check",class:"ms-auto text-primary"})):N("",!0)])]),_:2},1032,["disabled","onClick"]))),128))]),_:1},8,["variant","disabled"])}}}),dt={class:"position-fixed d-flex overflow-x-hidden overflow-y-hidden inset-0 w-100"},ct={class:"px-4 header-primary d-flex align-items-center flex-shrink-0 border-bottom bg-body-tertiary shadow-sm"},rt={href:"/",class:"navbar-brand"},mt={class:"d-flex align-items-center gap-1"},ut=["src"],_t=e("em",{class:"kontext-em h5 mb-0 fw-bold"},"Copilot",-1),pt={class:"d-flex flex-column w-100 flex-grow-1 flex-shrink-1 position-relative overflow-y-hidden"},ft={class:"flex-grow-1 d-flex flex-column min-h-0"},ht={class:"overflow-y-auto flex-grow-1 flex-shrink-1"},vt={class:"flex-grow-1 flex-shrink-1"},gt={class:"px-1 flex-shrink-0 border-top py-1"},xt={class:"d-flex align-items-center mx-2 gap-1"},bt={class:"btn btn-circle btn-circle-nav btn-outline-secondary d-flex justify-content-center"},yt={class:"fw-bold"},kt={class:"d-flex flex-grow-1 flex-shrink-1 w-100"},wt={class:"flex-column align-items-stretch position-relative w-100 flex-grow-1 flex-shrink-1 d-flex"},$t={class:"header-primary d-flex align-items-center border-bottom px-4 flex-shrink-0"},St={class:"fs-6 mb-0 pb-0 fw-bold"},Bt={class:"d-flex align-items-center gap-1 ms-auto"},It={key:0,class:"header-secondary d-flex align-items-center border-bottom flex-shrink-0 px-4 d-grid gap-3 flex-wrap"},Tt={class:"flex-grow-1 flex-shrink-1 mw-100 w-100 d-flex flex-column overflow-y-auto default-area"},Vt={key:0,class:"inset-0 h-100 row g-0"},Lt={class:"col-md-8 col-lg-9 d-flex flex-column overflow-y-auto h-100"},Ct={class:"col-md-4 col-lg-3 p-4 border-start d-none d-md-flex flex-column overflow-y-auto h-100"},Nt={key:1,class:"flex-grow-1 flex-shrink-1 d-flex flex-column overflow-y-auto"},Dt=T({__name:"default-layout",setup(y){const t=q(),v=O(),c=K(),p=k(()=>c.value.generalUsername.split(" ").map(l=>l[0]).join(""));return H(()=>{_e({title:t.meta.title||v.appName})}),(l,u)=>{const r=z,a=F,m=Ie,w=G,d=lt,_=me,S=it,i=j("b-toggle");return s(),f("div",dt,[n(w,{id:"mainSidebar",class:"position-relative-md sidebar-col d-md-flex flex-column align-items-stretch offcanvas-md offcanvas-start border-end flex-shrink-0 bg-body shadow-sm"},{default:x(()=>[e("div",ct,[A((s(),g(a,{class:"d-flex d-md-none text-muted me-3",href:"#"},{default:x(()=>[n(r,{name:"material-symbols:menu",size:"24"})]),_:1})),[[i,void 0,void 0,{mainSidebar:!0}]]),e("a",rt,[e("span",mt,[e("img",{src:o(re),alt:"Kontext Logo",class:"img-fluid"},null,8,ut),_t])])]),e("div",pt,[e("div",ft,[e("div",ht,[n(m,{class:"flex-grow-1 flex-shrink-1"}),e("div",vt,[I(l.$slots,"aside")])]),e("div",gt,[e("div",xt,[e("span",bt,h(o(p)),1),e("span",yt,h(o(c).generalUsername),1)])])])])]),_:3}),e("div",kt,[e("div",wt,[e("div",$t,[A((s(),g(a,{class:"d-flex d-md-none text-muted me-3",href:"#"},{default:x(()=>[n(r,{name:"material-symbols:menu",size:"24"})]),_:1})),[[i,void 0,void 0,{mainSidebar:!0}]]),e("h1",St,h(o(t).meta.title??o(t).name),1),e("div",Bt,[I(l.$slots,"header-tools"),n(d),n(_),n(S,{simple:""})])]),l.$slots["header-secondary"]?(s(),f("div",It,[I(l.$slots,"header-secondary")])):N("",!0),e("div",Tt,[l.$slots["secondary-sidebar"]?(s(),f("div",Vt,[e("div",Lt,[I(l.$slots,"default")]),e("div",Ct,[I(l.$slots,"secondary-sidebar")])])):(s(),f("div",Nt,[I(l.$slots,"default")]))])])])])}}});export{Dt as _,ge as a,it as b,st as c};
