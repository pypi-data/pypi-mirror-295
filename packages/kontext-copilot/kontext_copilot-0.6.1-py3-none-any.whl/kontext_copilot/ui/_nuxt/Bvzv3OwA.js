import{e as V,an as Y,f as Z,s as w,o as n,h as x,w as b,b as o,j as l,c as p,F as k,d as B,t as _,k as C,a as e,i as z,_ as M,W as E,l as H,au as ee,at as q,r as A,ar as F,J as U,av as K,K as j,a7 as P,n as O,aw as R,as as J,ab as D,S as N,aj as te,ax as se,q as ne,U as le,ay as oe,a2 as ae,A as ie,az as T,aA as de,aB as re}from"./vS1h4i-7.js";import{_ as me}from"./BQNxhKFW.js";import{_ as W,u as ce}from"./DbPe7BPB.js";const ue={class:"d-flex flex-column cursor-pointer"},pe={class:"d-flex gap-3"},_e={class:"fw-bold"},fe={class:"text-muted"},ve=V({__name:"model-selector",props:{simple:{type:Boolean,default:!1}},setup($,{expose:s}){const{models:f,defaultModel:d,setDefaultModel:u,getModels:a}=Y(),r=t=>{u(t)};Z(()=>{a()});const m=w(()=>{var t;return(t=d.value)==null?void 0:t.name});return s({selectedModelName:m}),(t,y)=>{const h=M,c=E,i=H,S=ee;return n(),x(S,{size:"sm"},{default:b(()=>[o(i,{variant:$.simple?"link":"outline-secondary",size:"sm"},{"button-content":b(()=>[l(d)?(n(),p(k,{key:0},[B(_(l(d).name)+" "+_(l(d).details.parameterSize)+" ",1),o(h,{name:"material-symbols:arrow-drop-down"})],64)):(n(),p(k,{key:1},[B(" Loading ")],64))]),default:b(()=>[(n(!0),p(k,null,C(l(f),v=>(n(),x(c,{key:v.name,class:"border-bottom",onClick:g=>r(v)},{default:b(()=>{var g;return[e("div",ue,[e("div",pe,[e("span",_e,_(v.name)+" "+_(v.details.parameterSize),1),((g=l(d))==null?void 0:g.name)===v.name?(n(),x(h,{key:0,name:"material-symbols:check",class:"text-primary"})):z("",!0)]),e("div",fe," family: "+_(v.details.family)+"; quantization: "+_(v.details.quantizationLevel)+"; format: "+_(v.details.format),1)])]}),_:2},1032,["onClick"]))),128))]),_:1},8,["variant"])]),_:1})}}}),he={class:"nav-item"},ge={class:"ms-1"},xe={class:"nav flex-column ms-3"},be={class:"ms-1"},ye=V({__name:"nav-item",props:{id:{},to:{},icon:{},text:{},children:{},flat:{type:Boolean},hidden:{type:Boolean}},setup($){const s=$,f=q(),d=A(!1),u=A(!1),a=w(()=>{var c;return s.children&&((c=s.children)==null?void 0:c.length)>0}),r="collapse-"+s.id;F(()=>{var c;d.value=f.path===s.to,u.value=((c=s.children)==null?void 0:c.some(i=>f.path===i.to))??!1});const m=A(!1),t=w(()=>m.value?"material-symbols:keyboard-arrow-down":"material-symbols:keyboard-arrow-up"),y=()=>{m.value=!1},h=()=>{m.value=!0};return(c,i)=>{const S=G,v=M,g=O,I=R,Q=me,X=U("b-toggle");return n(),p("li",he,[l(a)?(n(),p(k,{key:0},[c.flat?(n(),p(k,{key:0},[(n(!0),p(k,null,C(s.children,L=>(n(),x(S,K({key:L.id,ref_for:!0},L),null,16))),128)),i[0]||(i[0]=e("hr",null,null,-1))],64)):(n(),p(k,{key:1},[j((n(),x(g,{class:P(["nav-link d-flex align-items-center mx-2 mb-1",{active:l(u)}])},{default:b(()=>[o(v,{name:c.icon,size:"20"},null,8,["name"]),e("span",ge,_(c.text),1),o(v,{name:l(t),size:"20",class:"ms-auto"},null,8,["name"])]),_:1},8,["class"])),[[X,r]]),(n(),x(I,{id:r,key:c.id,ref:"collapseEl",visible:"",onShown:y,onHidden:h},{default:b(()=>[e("ul",xe,[(n(!0),p(k,null,C(s.children,L=>(n(),x(S,K({key:L.id,ref_for:!0},L),null,16))),128))])]),_:1}))],64))],64)):(n(),x(Q,{key:1,to:c.to,class:P(["nav-link d-flex align-items-center mx-2 mb-1",{active:l(d)}])},{default:b(()=>[o(v,{name:c.icon,size:"20"},null,8,["name"]),e("span",be,_(c.text),1)]),_:1},8,["to","class"]))])}}}),G=W(ye,[["__scopeId","data-v-2b0a715d"]]),ke={class:"nav nav-pills flex-column mb-auto flex-fill mt-3"},we=V({__name:"panel",setup($){const f=J().navItems;return(d,u)=>{const a=G;return n(),p("ul",ke,[(n(!0),p(k,null,C(l(f).filter(r=>!r.hidden),r=>(n(),x(a,K({key:r.id,ref_for:!0},r),null,16))),128))])}}}),$e={class:"d-flex justify-content-between align-items-center"},Se={class:"col-md-4"},Be={class:"d-flex justify-content-between align-items-center"},Te={class:"col-md-4"},Ve={class:"d-flex justify-content-between align-items-center"},Ie={class:"col-md-4"},Le={class:"d-flex justify-content-between align-items-center"},Ne={class:"col-md-4"},Ce={class:"d-flex justify-content-between align-items-center"},ze={class:"col-md-4"},Me={class:"d-flex justify-content-between align-items-center"},Ae={class:"col-md-4"},je={class:"d-flex justify-content-between align-items-center"},Ke={class:"col-md-4"},Ue=V({__name:"settings-panel",setup($){const s=D(),f=w({get:()=>s.value.llmTemperature,set:m=>{s.value.llmTemperature=Number(m)}}),d=w({get:()=>s.value.llmTopK,set:m=>{s.value.llmTopK=Number(m)}}),u=w({get:()=>s.value.llmTopP,set:m=>{s.value.llmTopP=Number(m)}}),a=w({get:()=>s.value.llmSeed,set:m=>{s.value.llmSeed=Number(m)}}),r=w({get:()=>(s==null?void 0:s.value.llmApiKey)??"",set:m=>{s.value&&(s.value.llmApiKey=m)}});return(m,t)=>{const y=te,h=se,c=ve;return l(s)?(n(),p(k,{key:0},[e("div",$e,[t[6]||(t[6]=e("div",{class:"col-md-8"},[e("h6",null,"Temperature"),e("span",{class:"text-muted"},"Higher temperatures lead to more diverse and creative outputs, while lower temperatures result in more conservative and predictable responses.")],-1)),e("div",Se,[o(y,{id:"temperatureRange",modelValue:l(f),"onUpdate:modelValue":t[0]||(t[0]=i=>N(f)?f.value=i:null),type:"range",min:"0",max:"1",step:"0.1",number:""},null,8,["modelValue"]),B(" "+_(l(f)),1)])]),t[13]||(t[13]=e("hr",null,null,-1)),e("div",Be,[t[7]||(t[7]=e("div",{class:"col-md-8"},[e("h6",null,"Seed"),e("span",{class:"text-muted"},"Used to initialize model's random number generator.")],-1)),e("div",Te,[o(y,{id:"seed",modelValue:l(a),"onUpdate:modelValue":t[1]||(t[1]=i=>N(a)?a.value=i:null),type:"range",min:"0",max:"100",step:"1",number:""},null,8,["modelValue"]),B(" "+_(l(a)),1)])]),t[14]||(t[14]=e("hr",null,null,-1)),e("div",Ve,[t[8]||(t[8]=e("div",{class:"col-md-8"},[e("h6",null,"Top K Sampling (top_k)"),e("span",{class:"text-muted"},"Limits the generation to the top k most likely next words. The model will only consider the top k words with the highest probability of occurring next in the sequence. ")],-1)),e("div",Ie,[o(y,{id:"top_k_range",modelValue:l(d),"onUpdate:modelValue":t[2]||(t[2]=i=>N(d)?d.value=i:null),type:"range",min:"0",max:"100",step:"1",number:""},null,8,["modelValue"]),B(" "+_(l(d)),1)])]),t[15]||(t[15]=e("hr",null,null,-1)),e("div",Le,[t[9]||(t[9]=e("div",{class:"col-md-8"},[e("h6",null,"Top P Sampling (top_p)"),e("span",{class:"text-muted"},'Also known as "nucleus sampling," this parameter filters the cumulative distribution of next-word probabilities, so that the smallest set of words whose cumulative probability exceeds the threshold p is considered. ')],-1)),e("div",Ne,[o(y,{id:"top_p_range",modelValue:l(u),"onUpdate:modelValue":t[3]||(t[3]=i=>N(u)?u.value=i:null),type:"range",min:"0",max:"1",step:"0.05",number:""},null,8,["modelValue"]),B(" "+_(l(u)),1)])]),t[16]||(t[16]=e("hr",null,null,-1)),e("div",Ce,[t[10]||(t[10]=e("div",{class:"col-md-8"},[e("h6",null,"Endpoint"),e("span",{class:"text-muted"},"The endpoint for Ollama or OpenAI compatible LLMs.")],-1)),e("div",ze,[o(y,{id:"endpoint",modelValue:l(s).llmEndpoint,"onUpdate:modelValue":t[4]||(t[4]=i=>l(s).llmEndpoint=i)},null,8,["modelValue"])])]),t[17]||(t[17]=e("hr",null,null,-1)),o(h),t[18]||(t[18]=e("hr",null,null,-1)),e("div",Me,[t[11]||(t[11]=e("div",{class:"col-md-8"},[e("h6",null,"API key"),e("span",{class:"text-muted"},"The API key for authenticating with OpenAI services.")],-1)),e("div",Ae,[o(y,{id:"apikey",modelValue:l(r),"onUpdate:modelValue":t[5]||(t[5]=i=>N(r)?r.value=i:null)},null,8,["modelValue"])])]),t[19]||(t[19]=e("hr",null,null,-1)),e("div",je,[t[12]||(t[12]=e("div",{class:"col-md-8"},[e("h6",null,"Default model"),e("span",{class:"text-muted"},"The default model name.")],-1)),e("div",Ke,[o(c)])])],64)):z("",!0)}}}),De={};function Pe($,s){const f=M,d=ne,u=Ue,a=le,r=U("b-modal");return n(),p(k,null,[j((n(),x(d,{variant:"link",size:"sm",class:"d-flex align-items-center",title:"LLMs settings"},{default:b(()=>[o(f,{name:"material-symbols:neurology-outline",size:"20"})]),_:1})),[[r,void 0,void 0,{llmsSettingsModal:!0}]]),o(a,{id:"llmsSettingsModal",title:"LLMs settings","ok-only":"",size:"lg"},{default:b(()=>[o(u)]),_:1})],64)}const Ee=W(De,[["render",Pe]]),He={class:"d-flex align-items-center cursor-pointer"},qe=V({__name:"theme-toggle",props:{simple:{type:Boolean}},setup($){const s="btn-theme-toogle-"+oe(),f=ae({selector:"html",storageKey:"theme"}),d=D(),u=w(()=>d.value.generalTheme),a=w(()=>!d);ie(u,h=>{h&&(f.value=h)});const r=A([{key:"light",name:"Light",iconName:"material-symbols:light-mode-outline-rounded"},{key:"dark",name:"Dark",iconName:"material-symbols:dark-mode-outline-rounded"},{key:"auto",name:"System",iconName:"material-symbols:brightness-auto-outline"}]),m=w(()=>r.value.find(h=>h.key===u.value)??r.value[0]),t=h=>{d.value.generalTheme=h},{simple:y}=$;return(h,c)=>{const i=M,S=E,v=H;return n(),x(v,{id:s,variant:y?"link":"outline-secondary",disabled:l(a)},{"button-content":b(()=>{var g,I;return[o(i,{name:(g=l(m))==null?void 0:g.iconName,class:"me-1"},null,8,["name"]),y?z("",!0):(n(),p(k,{key:0},[B(_((I=l(m))==null?void 0:I.name),1)],64)),o(i,{name:"material-symbols:arrow-drop-down"})]}),default:b(()=>[(n(!0),p(k,null,C(l(r),g=>(n(),x(S,{key:g.key,disabled:g.key===l(u),onClick:I=>t(g.key)},{default:b(()=>[e("span",He,[o(i,{name:g.iconName,class:"me-1"},null,8,["name"]),e("span",null,_(g.name),1),g.key===l(u)?(n(),x(i,{key:0,name:"material-symbols:check",class:"ms-auto text-primary"})):z("",!0)])]),_:2},1032,["disabled","onClick"]))),128))]),_:1},8,["variant","disabled"])}}}),Fe={class:"position-fixed d-flex overflow-x-hidden overflow-y-hidden inset-0 w-100"},Oe={class:"px-4 header-primary d-flex align-items-center flex-shrink-0 border-bottom bg-body-tertiary shadow-sm"},Re={href:"/",class:"navbar-brand"},Je={class:"d-flex align-items-center gap-1"},We=["src"],Ge={class:"d-flex flex-column w-100 flex-grow-1 flex-shrink-1 position-relative overflow-y-hidden"},Qe={class:"flex-grow-1 d-flex flex-column min-h-0"},Xe={class:"overflow-y-auto flex-grow-1 flex-shrink-1"},Ye={class:"flex-grow-1 flex-shrink-1"},Ze={class:"px-1 flex-shrink-0 border-top py-1"},et={class:"d-flex align-items-center mx-2 gap-1"},tt={class:"btn btn-circle btn-circle-nav btn-outline-secondary d-flex justify-content-center"},st={class:"fw-bold"},nt={class:"d-flex flex-grow-1 flex-shrink-1 w-100"},lt={class:"flex-column align-items-stretch position-relative w-100 flex-grow-1 flex-shrink-1 d-flex"},ot={class:"header-primary d-flex align-items-center border-bottom px-4 flex-shrink-0"},at={class:"fs-6 mb-0 pb-0 fw-bold"},it={class:"d-flex align-items-center gap-1 ms-auto"},dt={key:0,class:"header-secondary d-flex align-items-center border-bottom flex-shrink-0 px-4 d-grid gap-3 flex-wrap"},rt={class:"flex-grow-1 flex-shrink-1 mw-100 w-100 d-flex flex-column overflow-y-auto default-area"},mt={key:0,class:"inset-0 h-100 row g-0"},ct={class:"col-md-8 col-lg-9 d-flex flex-column overflow-y-auto h-100"},ut={class:"col-md-4 col-lg-3 p-4 border-start d-none d-md-flex flex-column overflow-y-auto h-100"},pt={key:1,class:"flex-grow-1 flex-shrink-1 d-flex flex-column overflow-y-auto"},ht=V({__name:"default-layout",setup($){const s=q(),f=J(),d=D(),u=w(()=>d.value.generalUsername.split(" ").map(a=>a[0]).join(""));return F(()=>{ce({title:s.meta.title||f.appName})}),(a,r)=>{const m=M,t=O,y=we,h=R,c=Ee,i=re,S=qe,v=U("b-toggle");return n(),p("div",Fe,[o(h,{id:"mainSidebar",class:"position-relative-md sidebar-col d-md-flex flex-column align-items-stretch offcanvas-md offcanvas-start border-end flex-shrink-0 bg-body shadow-sm"},{default:b(()=>[e("div",Oe,[j((n(),x(t,{class:"d-flex d-md-none text-muted me-3",href:"#"},{default:b(()=>[o(m,{name:"material-symbols:menu",size:"24"})]),_:1})),[[v,void 0,void 0,{mainSidebar:!0}]]),e("a",Re,[e("span",Je,[e("img",{src:l(de),alt:"Kontext Logo",class:"img-fluid"},null,8,We),r[0]||(r[0]=e("em",{class:"kontext-em h5 mb-0 fw-bold"},"Copilot",-1))])])]),e("div",Ge,[e("div",Qe,[e("div",Xe,[o(y,{class:"flex-grow-1 flex-shrink-1"}),e("div",Ye,[T(a.$slots,"aside")])]),e("div",Ze,[e("div",et,[e("span",tt,_(l(u)),1),e("span",st,_(l(d).generalUsername),1)])])])])]),_:3}),e("div",nt,[e("div",lt,[e("div",ot,[j((n(),x(t,{class:"d-flex d-md-none text-muted me-3",href:"#"},{default:b(()=>[o(m,{name:"material-symbols:menu",size:"24"})]),_:1})),[[v,void 0,void 0,{mainSidebar:!0}]]),e("h1",at,_(l(s).meta.title??l(s).name),1),e("div",it,[T(a.$slots,"header-tools"),o(c),o(i),o(S,{simple:""})])]),a.$slots["header-secondary"]?(n(),p("div",dt,[T(a.$slots,"header-secondary")])):z("",!0),e("div",rt,[a.$slots["secondary-sidebar"]?(n(),p("div",mt,[e("div",ct,[T(a.$slots,"default")]),e("div",ut,[T(a.$slots,"secondary-sidebar")])])):(n(),p("div",pt,[T(a.$slots,"default")]))])])])])}}});export{ht as _,ve as a,qe as b,Ue as c};
