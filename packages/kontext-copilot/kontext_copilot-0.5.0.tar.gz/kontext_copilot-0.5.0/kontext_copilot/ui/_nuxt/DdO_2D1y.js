import{_ as y,a as C}from"./DfUsPrkf.js";import{e as B,r as S,ab as h,s as G,G as M,an as N,h as c,w as r,o as u,b as g,a as t,J as f,a7 as b,j as s,R as k,d as R,i as E,t as L,ao as P,V as T,q}from"./BNXY2P2N.js";import{u as D}from"./DAJe3ji_.js";import"./B7YJYDcY.js";import"./D1G1UBUZ.js";const I={class:"px-4 mt-3"},J={class:"row d-flex gap-4"},U={class:"col-md d-flex flex-column gap-4 mb-3"},$={class:"col-md"},j={class:"col-md"},O=["disabled"],z={class:"mt-3"},A={class:"ms-1"},Y=B({__name:"embedding-generator",setup(F){const a=S(""),i=h(),o=i.state,_=G(()=>(a.value??"").length===0||o.generating),n=M({embeddings:""}),{defaultModel:m}=N(),v=async()=>{var l,e;if(!((l=m.value)!=null&&l.name))throw new P;i.embeddings(a.value,(e=m.value)==null?void 0:e.name).then(()=>{n.embeddings=JSON.stringify(o.generatedEmbeddings)})};return D(),(l,e)=>{const x=C,w=T,V=q;return u(),c(y,null,{"header-tools":r(()=>[g(x,{simple:""})]),default:r(()=>{var p;return[t("div",I,[e[6]||(e[6]=t("p",{class:"text-muted"},"Generate embeddings from a model.",-1)),t("div",J,[t("div",U,[t("div",$,[e[2]||(e[2]=t("label",{for:"promptInput",class:"form-label"},"Prompt",-1)),f(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=d=>k(a)?a.value=d:null),class:"form-control main-textarea",type:"text",rows:"16",placeholder:"Prompt template"},null,512),[[b,s(a)]])]),t("div",null,[g(V,{variant:"primary",disabled:s(_),onClick:v},{default:r(()=>[e[3]||(e[3]=R(" Generate ")),s(o).generating?(u(),c(w,{key:0,small:""})):E("",!0)]),_:1},8,["disabled"])])]),t("div",j,[e[5]||(e[5]=t("label",{for:"embeddings",class:"form-label"},"Generated embeddings ",-1)),f(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=d=>s(n).embeddings=d),class:"form-control main-textarea",type:"text",rows:"16",disabled:s(o).generating},null,8,O),[[b,s(n).embeddings]]),t("div",z,[e[4]||(e[4]=t("label",null,"Length: ",-1)),t("b",A,L((p=s(o).generatedEmbeddings)==null?void 0:p.length),1)])])])])]}),_:1})}}});export{Y as default};
