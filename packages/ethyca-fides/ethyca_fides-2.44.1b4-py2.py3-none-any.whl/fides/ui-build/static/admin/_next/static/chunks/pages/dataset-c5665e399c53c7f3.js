(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8473],{19785:function(e){var t=Array.isArray;e.exports=t},64902:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dataset",function(){return s(45849)}])},81836:function(e,t,s){"use strict";var i=s(24246),a=s(27378),n=s(13054),r=s(79894),o=s.n(r);t.Z=e=>{let{breadcrumbs:t,fontSize:s="2xl",fontWeight:r="semibold",separator:l="->",lastItemStyles:d={color:"black"},normalItemStyles:c={color:"gray.500"},...u}=e;return(0,i.jsx)(n.aGc,{separator:l,fontSize:s,fontWeight:r,"data-testid":"breadcrumbs",...u,children:t.map((e,s)=>{let r=s+1===t.length;return(0,a.createElement)(n.gN6,{...c,...r?d:{},key:e.title,children:[(null==e?void 0:e.icon)&&(0,i.jsx)(n.xuv,{mr:2,children:e.icon}),e.link?(0,i.jsx)(n.Atw,{as:o(),href:e.link,isCurrentPage:r,children:e.title}):(0,i.jsx)(n.Atw,{_hover:{textDecoration:"none",cursor:"default"},isCurrentPage:r,children:e.title})]})})})}},57311:function(e,t,s){"use strict";s.d(t,{Gn:function(){return o},zR:function(){return r}});var i=s(24246),a=s(13054),n=s(79711);let r=e=>{let{title:t}=e;return(0,i.jsx)(a.OXI,{py:0,display:"flex",alignItems:"flex-start",children:(0,i.jsx)(a.xvT,{mr:"2",color:"gray.700",fontSize:"lg",lineHeight:1.8,children:t})})},o=e=>{let{onDelete:t,formId:s,isSaving:r}=e;return(0,i.jsxs)(a.zeN,{justifyContent:"space-between",children:[t?(0,i.jsx)(a.hU,{variant:"outline","aria-label":"delete",icon:(0,i.jsx)(n.q,{fontSize:"small"}),size:"sm",onClick:t,"data-testid":"delete-btn"}):null,(0,i.jsx)(a.zxk,{type:"submit",colorScheme:"primary",size:"sm","data-testid":"save-btn",form:s,isLoading:r,children:"Save"})]})};t.ZP=e=>{let{header:t,description:s,isOpen:n,onClose:r,children:o,footer:l}=e;return(0,i.jsxs)(a.dys,{placement:"right",isOpen:n,onClose:r,size:"md",children:[(0,i.jsx)(a.P1B,{}),(0,i.jsxs)(a.scA,{"data-testid":"edit-drawer-content",py:2,children:[(0,i.jsxs)(a.xuv,{display:"flex",justifyContent:"space-between",alignItems:"top",mr:2,py:2,gap:2,children:[(0,i.jsx)(a.xuv,{flex:1,minH:8,children:t}),(0,i.jsx)(a.xuv,{display:"flex",justifyContent:"flex-end",mr:2,children:(0,i.jsx)(a.hU,{"aria-label":"Close editor",variant:"outline",onClick:r,"data-testid":"close-drawer-btn",size:"sm",icon:(0,i.jsx)(a.Two,{fontSize:"smaller"})})})]}),(0,i.jsxs)(a.Ng0,{pt:1,children:[s?(0,i.jsx)(a.xvT,{fontSize:"sm",mb:4,color:"gray.600",children:s}):null,o]}),l]})]})}},79711:function(e,t,s){"use strict";s.d(t,{q:function(){return a}});var i=s(24246);let a=(0,s(13054).IUT)({displayName:"TrashCanOutlineIcon",viewBox:"0 0 11 12",path:(0,i.jsx)("path",{d:"M4.5166 1.60859L4.1084 2.21875H7.22363L6.81543 1.60859C6.7832 1.56133 6.72949 1.53125 6.67148 1.53125H4.6584C4.60039 1.53125 4.54668 1.55918 4.51445 1.60859H4.5166ZM7.6748 1.03711L8.46328 2.21875H8.75977H9.79102H9.96289C10.2486 2.21875 10.4785 2.44863 10.4785 2.73438C10.4785 3.02012 10.2486 3.25 9.96289 3.25H9.79102V9.78125C9.79102 10.7309 9.02188 11.5 8.07227 11.5H3.25977C2.31016 11.5 1.54102 10.7309 1.54102 9.78125V3.25H1.36914C1.0834 3.25 0.853516 3.02012 0.853516 2.73438C0.853516 2.44863 1.0834 2.21875 1.36914 2.21875H1.54102H2.57227H2.86875L3.65723 1.03496C3.88066 0.701953 4.25664 0.5 4.6584 0.5H6.67148C7.07324 0.5 7.44922 0.701953 7.67266 1.03496L7.6748 1.03711ZM2.57227 3.25V9.78125C2.57227 10.1615 2.87949 10.4688 3.25977 10.4688H8.07227C8.45254 10.4688 8.75977 10.1615 8.75977 9.78125V3.25H2.57227ZM4.29102 4.625V9.09375C4.29102 9.28281 4.13633 9.4375 3.94727 9.4375C3.7582 9.4375 3.60352 9.28281 3.60352 9.09375V4.625C3.60352 4.43594 3.7582 4.28125 3.94727 4.28125C4.13633 4.28125 4.29102 4.43594 4.29102 4.625ZM6.00977 4.625V9.09375C6.00977 9.28281 5.85508 9.4375 5.66602 9.4375C5.47695 9.4375 5.32227 9.28281 5.32227 9.09375V4.625C5.32227 4.43594 5.47695 4.28125 5.66602 4.28125C5.85508 4.28125 6.00977 4.43594 6.00977 4.625ZM7.72852 4.625V9.09375C7.72852 9.28281 7.57383 9.4375 7.38477 9.4375C7.1957 9.4375 7.04102 9.28281 7.04102 9.09375V4.625C7.04102 4.43594 7.1957 4.28125 7.38477 4.28125C7.57383 4.28125 7.72852 4.43594 7.72852 4.625Z",fill:"currentColor"})})},90824:function(e,t,s){"use strict";s.d(t,{V:function(){return a}});var i=s(24246);let a=(0,s(13054).IUT)({displayName:"DatabaseIcon",viewBox:"0 0 12 12",path:(0,i.jsx)("path",{fill:"currentColor",d:"M6 12C4.32222 12 2.90278 11.7417 1.74167 11.225C0.580556 10.7083 0 10.0778 0 9.33333V2.66667C0 1.93333 0.586111 1.30556 1.75833 0.783333C2.93056 0.261111 4.34444 0 6 0C7.65556 0 9.06944 0.261111 10.2417 0.783333C11.4139 1.30556 12 1.93333 12 2.66667V9.33333C12 10.0778 11.4194 10.7083 10.2583 11.225C9.09722 11.7417 7.67778 12 6 12ZM6 4.01667C6.98889 4.01667 7.98333 3.875 8.98333 3.59167C9.98333 3.30833 10.5444 3.00556 10.6667 2.68333C10.5444 2.36111 9.98611 2.05556 8.99167 1.76667C7.99722 1.47778 7 1.33333 6 1.33333C4.98889 1.33333 3.99722 1.475 3.025 1.75833C2.05278 2.04167 1.48889 2.35 1.33333 2.68333C1.48889 3.01667 2.05278 3.32222 3.025 3.6C3.99722 3.87778 4.98889 4.01667 6 4.01667ZM6 7.33333C6.46667 7.33333 6.91667 7.31111 7.35 7.26667C7.78333 7.22222 8.19722 7.15833 8.59167 7.075C8.98611 6.99167 9.35833 6.88889 9.70833 6.76667C10.0583 6.64444 10.3778 6.50556 10.6667 6.35V4.35C10.3778 4.50556 10.0583 4.64444 9.70833 4.76667C9.35833 4.88889 8.98611 4.99167 8.59167 5.075C8.19722 5.15833 7.78333 5.22222 7.35 5.26667C6.91667 5.31111 6.46667 5.33333 6 5.33333C5.53333 5.33333 5.07778 5.31111 4.63333 5.26667C4.18889 5.22222 3.76944 5.15833 3.375 5.075C2.98056 4.99167 2.61111 4.88889 2.26667 4.76667C1.92222 4.64444 1.61111 4.50556 1.33333 4.35V6.35C1.61111 6.50556 1.92222 6.64444 2.26667 6.76667C2.61111 6.88889 2.98056 6.99167 3.375 7.075C3.76944 7.15833 4.18889 7.22222 4.63333 7.26667C5.07778 7.31111 5.53333 7.33333 6 7.33333ZM6 10.6667C6.51111 10.6667 7.03056 10.6278 7.55833 10.55C8.08611 10.4722 8.57222 10.3694 9.01667 10.2417C9.46111 10.1139 9.83333 9.96945 10.1333 9.80833C10.4333 9.64722 10.6111 9.48333 10.6667 9.31667V7.68333C10.3778 7.83889 10.0583 7.97778 9.70833 8.1C9.35833 8.22222 8.98611 8.325 8.59167 8.40833C8.19722 8.49167 7.78333 8.55556 7.35 8.6C6.91667 8.64444 6.46667 8.66667 6 8.66667C5.53333 8.66667 5.07778 8.64444 4.63333 8.6C4.18889 8.55556 3.76944 8.49167 3.375 8.40833C2.98056 8.325 2.61111 8.22222 2.26667 8.1C1.92222 7.97778 1.61111 7.83889 1.33333 7.68333V9.33333C1.38889 9.5 1.56389 9.66111 1.85833 9.81667C2.15278 9.97222 2.52222 10.1139 2.96667 10.2417C3.41111 10.3694 3.9 10.4722 4.43333 10.55C4.96667 10.6278 5.48889 10.6667 6 10.6667Z"})})},43124:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var i=s(24246),a=s(13054),n=s(88038),r=s.n(n),o=s(86677);s(27378);var l=s(11596),d=s(72247),c=s(11032),u=()=>{let e=(0,o.useRouter)();return(0,i.jsx)(a.xuv,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,i.jsxs)(a.xuv,{children:[(0,i.jsxs)(a.Kqy,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,i.jsx)(a.xvT,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,i.jsx)(a.zxk,{size:"sm",variant:"outline",onClick:()=>{e.push(c.fz)},children:"Configure"})]}),(0,i.jsxs)(a.xvT,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},x=e=>{let{children:t,title:s,padded:n=!0,mainProps:c}=e,x=(0,l.hz)(),C=(0,o.useRouter)(),f="/privacy-requests"===C.pathname||"/datastore-connection"===C.pathname,h=!(x.flags.privacyRequestsConfiguration&&f),{data:p}=(0,d.JE)(void 0,{skip:h}),{data:m}=(0,d.PW)(void 0,{skip:h}),g=x.flags.privacyRequestsConfiguration&&(!p||!m)&&f;return(0,i.jsxs)(a.kCb,{"data-testid":s,direction:"column",h:"100vh",children:[(0,i.jsxs)(r(),{children:[(0,i.jsxs)("title",{children:["Fides Admin UI - ",s]}),(0,i.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(a.kCb,{as:"main",direction:"column",py:n?6:0,px:n?10:0,h:n?"calc(100% - 48px)":"full",flex:1,minWidth:0,overflow:"auto",...c,children:[g?(0,i.jsx)(u,{}):null,t]})]})}},71824:function(e,t,s){"use strict";var i=s(24246),a=s(13054),n=s(19785),r=s.n(n),o=s(27378),l=s(81836);t.Z=e=>{let{breadcrumbs:t,isSticky:s=!0,children:n,rightContent:d,...c}=e;return(0,i.jsxs)(a.xuv,{bgColor:"white",paddingY:5,...s?{position:"sticky",top:0,left:0,zIndex:10}:{},...c,children:[(0,i.jsxs)(a.kCb,{alignItems:"flex-start",children:[(0,i.jsxs)(a.xuv,{flex:1,children:[r()(t)&&(0,i.jsx)(a.xuv,{marginBottom:n?4:0,children:(0,i.jsx)(l.Z,{breadcrumbs:t})}),(0,o.isValidElement)(t)&&t]}),d&&(0,i.jsx)(a.xuv,{children:d})]}),n]})}},39006:function(e,t,s){"use strict";var i=s(24246);s(27378);var a=s(81836);t.Z=e=>(0,i.jsx)(a.Z,{...e,fontSize:"sm",fontWeight:"normal",mt:-1,mb:0,separator:"/",lastItemStyles:{color:"black",fontWeight:"semibold"}})},64712:function(e,t,s){"use strict";s.d(t,{QL:function(){return n},du:function(){return a},tz:function(){return i}});let i={name:{tooltip:"A UI-friendly label for the Dataset."},description:{tooltip:"A human-readable description of the Dataset."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all collections in the Dataset."}},a={description:{tooltip:"A human-readable description of the collection."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to all fields in the collection."}},n={description:{tooltip:"A human-readable description of the field."},data_categories:{tooltip:"Arrays of Data Category resources, identified by fides_key, that apply to this field."}}},45849:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var i=s(24246),a=s(92222),n=s(59003),r=s(13054),o=s(79894),l=s.n(o),d=s(86677),c=s(27378),u=s(45007),x=s(96878),C=s(19686);let f=e=>{let{resourceType:t,fidesKeys:s,skip:i}=e,[a,n]=(0,c.useState)(!0),r=(0,x.Wm)({resource_type:t,fides_keys:s},{skip:i,pollingInterval:a?3e3:void 0}),o=!!r.data&&r.data.every(e=>e.status===C.Wg.COMPLETE||e.status===C.Wg.FAILED||e.status===C.Wg.REVIEWED);return(0,c.useEffect)(()=>{o&&n(!1)},[o]),{...r,isClassificationFinished:o}};var h=s(11596),p=s(90824),m=s(43124),g=s(11032),j=s(71824),v=s(52850),y=s(435),b=s(39006),k=s(57311),z=s(60136),w=s(16781),_=s(34090),S=s(34803),V=s(64712);let D="edit-field-drawer";var Z=e=>{var t,s;let{values:a,onSubmit:n}=e,o={name:null!==(t=a.name)&&void 0!==t?t:"",description:null!==(s=a.description)&&void 0!==s?s:"",data_categories:a.data_categories};return(0,i.jsx)(_.J9,{initialValues:o,onSubmit:e=>{n({...e,data_categories:a.data_categories||[]})},children:(0,i.jsx)(_.l0,{id:D,children:(0,i.jsxs)(r.Kqy,{spacing:"3",children:[(0,i.jsx)(S.j0,{name:"name",label:"Name",tooltip:V.tz.name.tooltip,"data-testid":"name-input",variant:"block"}),(0,i.jsx)(S.j0,{name:"description",label:"Description",tooltip:V.tz.description.tooltip,"data-testid":"description-input",variant:"block"})]})})})},R=e=>{let{dataset:t,isOpen:s,onClose:a}=e,[n]=(0,y.TG)(),[o]=(0,y.QY)(),l=(0,d.useRouter)(),c=(0,r.pmc)(),{isOpen:u,onOpen:x,onClose:C}=(0,r.qY0)(),f=async e=>{let s={...t,...e};try{let e=await n(s);(0,z.D4)(e)?c((0,w.Vo)((0,z.e$)(e.error))):c((0,w.t5)("Successfully modified dataset"))}catch(e){c((0,w.Vo)(e))}a()},h=async()=>{let{fides_key:e}=t,s=await o(e);(0,z.D4)(s)?c((0,w.Vo)((0,z.e$)(s.error))):c((0,w.t5)("Successfully deleted dataset")),(0,y.Zl)(void 0),l.push("/dataset"),a(),C()};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.ZP,{isOpen:s,onClose:a,description:"A Dataset takes a database schema (tables and columns) and adds Fides privacy categorizations. Provide additional context to this dataset by filling out the fields below.",header:(0,i.jsx)(k.zR,{title:"Edit: ".concat(null==t?void 0:t.name)}),footer:(0,i.jsx)(k.Gn,{onClose:a,onDelete:x,formId:D}),children:(0,i.jsx)(Z,{values:t,onSubmit:f})}),(0,i.jsx)(r.cVQ,{isOpen:u,onClose:C,onConfirm:h,title:"Delete Dataset",message:(0,i.jsxs)(r.xvT,{children:["You are about to permanently delete the dataset named"," ",(0,i.jsx)(r.xvT,{color:"complimentary.500",as:"span",fontWeight:"bold",children:null==t?void 0:t.name}),". Are you sure you would like to continue?"]})})]})};let A=(0,a.Cl)(),I={items:[],total:0,page:1,size:25,pages:1},T=()=>(0,i.jsx)(r.gCW,{mt:6,p:10,spacing:4,borderRadius:"base",maxW:"70%","data-testid":"no-results-notice",alignSelf:"center",margin:"auto",textAlign:"center",children:(0,i.jsxs)(r.gCW,{children:[(0,i.jsx)(r.xvT,{fontSize:"md",fontWeight:"600",children:"No datasets found."}),(0,i.jsx)(r.xvT,{fontSize:"sm",children:'Click "Create new dataset" to add your first dataset to Fides.'})]})});var E=()=>{let e=(0,u.I0)(),t=(0,d.useRouter)(),[s,o]=(0,c.useState)(!1),[x,k]=(0,c.useState)(),{PAGE_SIZES:z,pageSize:w,setPageSize:_,onPreviousPageClick:S,isPreviousPageDisabled:V,onNextPageClick:D,isNextPageDisabled:Z,startRange:E,endRange:P,pageIndex:H,setTotalPages:W,resetPageIndexToDefault:M}=(0,v.oi)(),[N,O]=(0,c.useState)(),{data:q,isLoading:F,isFetching:L}=(0,y.rt)({page:H,size:w,search:N,exclude_saas_datasets:!0}),{items:G,total:U,pages:B}=(0,c.useMemo)(()=>null!=q?q:I,[q]);(0,c.useEffect)(()=>{W(B)},[B,W]);let Y=(0,c.useCallback)(s=>{e((0,y.Zl)(s.fides_key)),t.push({pathname:g.o5,query:{datasetId:s.fides_key}})},[e,t]),K=(0,h.hz)();f({resourceType:C.j.DATASETS,skip:!K.plus});let Q=(0,c.useMemo)(()=>[A.accessor(e=>e.name,{id:"name",cell:e=>(0,i.jsx)(v.G3,{value:e.getValue(),fontWeight:"semibold"}),header:e=>(0,i.jsx)(v.Rr,{value:"Dataset Name",...e}),size:180}),A.accessor(e=>e.fides_key,{id:"fides_key",cell:e=>(0,i.jsx)(v.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(v.Rr,{value:"Fides Key",...e}),size:150}),A.accessor(e=>e.description,{id:"description",cell:e=>(0,i.jsx)(v.G3,{value:e.getValue()}),header:e=>(0,i.jsx)(v.Rr,{value:"Description",...e}),size:300}),A.display({id:"actions",header:"Actions",cell:e=>{let{row:t}=e,s=t.original;return(0,i.jsx)(r.Ugi,{spacing:0,"data-testid":"dataset-".concat(s.fides_key),children:(0,i.jsx)(r.zxk,{variant:"outline",size:"xs",leftIcon:(0,i.jsx)(r.dY8,{}),onClick:()=>{k(s),o(!0)},children:"Edit"})})},meta:{disableRowClick:!0}})].filter(Boolean),[]),X=(0,n.b7)({getCoreRowModel:(0,a.sC)(),getFilteredRowModel:(0,a.vL)(),getSortedRowModel:(0,a.tj)(),columns:Q,data:G});return(0,i.jsx)(m.Z,{title:"Datasets",mainProps:{paddingTop:0},children:(0,i.jsxs)(r.xuv,{"data-testid":"system-management",children:[(0,i.jsx)(j.Z,{breadcrumbs:[{title:"Datasets"}],rightContent:(0,i.jsx)(r.zxk,{variant:"outline",size:"sm",as:l(),href:"/dataset/new","data-testid":"create-dataset-btn",children:"+ Add dataset"}),children:(0,i.jsx)(b.Z,{breadcrumbs:[{title:"All datasets",icon:(0,i.jsx)(p.V,{boxSize:4})}],fontSize:"md",fontWeight:"normal",mb:5})}),F?(0,i.jsx)(v.I4,{rowHeight:36,numRows:15}):(0,i.jsxs)(r.xuv,{"data-testid":"dataset-table",children:[(0,i.jsx)(v.Q$,{children:(0,i.jsx)(v.HO,{globalFilter:N,setGlobalFilter:e=>{M(),O(e)},placeholder:"Search",testid:"dataset-search"})}),(0,i.jsx)(v.ZK,{tableInstance:X,emptyTableNotice:(0,i.jsx)(T,{}),onRowClick:Y})]}),(0,i.jsx)(v.s8,{totalRows:U||0,pageSizes:z,setPageSize:_,onPreviousPageClick:S,isPreviousPageDisabled:V||L,onNextPageClick:D,isNextPageDisabled:Z||L,startRange:E,endRange:P}),(0,i.jsx)(R,{dataset:x,isOpen:s,onClose:()=>{k(void 0),o(!1)}})]})})}}},function(e){e.O(0,[6451,2850,2888,9774,179],function(){return e(e.s=64902)}),_N_E=e.O()}]);