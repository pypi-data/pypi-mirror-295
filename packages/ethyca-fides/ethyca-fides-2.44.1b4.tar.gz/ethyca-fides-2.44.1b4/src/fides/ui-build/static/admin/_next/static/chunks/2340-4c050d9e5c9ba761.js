"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2340],{36848:function(e,t,n){n.d(t,{q:function(){return o}});var r=n(24246),i=n(13054);let o=e=>{let{label:t,isDisabled:n,...o}=e;return(0,r.jsx)(i.OK9,{"data-testid":"tab-".concat(t),_selected:{fontWeight:"600",color:"complimentary.500",borderColor:"complimentary.500"},fontSize:o.fontSize,fontWeight:"500",color:"gray.500",isDisabled:n||!1,children:t})};t.Z=e=>{let{data:t,border:n="partial",...l}=e;return(0,r.jsxs)(i.mQc,{colorScheme:"complimentary",...l,children:[(0,r.jsx)(i.tdY,{width:"partial"===n?"max-content":void 0,children:t.map(e=>(0,r.jsx)(o,{label:e.label,isDisabled:e.isDisabled,fontSize:l.fontSize},e.label))}),(0,r.jsx)(i.nPR,{children:t.map(e=>(0,r.jsx)(i.x45,{px:0,"data-testid":"tab-panel-".concat(e.label),children:e.content},e.label))})]})}},38615:function(e,t,n){n.d(t,{Tg:function(){return l}});var r=n(24246),i=n(44296),o=n(96451);let l=e=>(0,i.C)(o.uu).filter(t=>e.includes(t)).length>0;t.ZP=e=>{let{scopes:t,children:n}=e;return l(t)?(0,r.jsx)(r.Fragment,{children:n}):null}},60136:function(e,t,n){n.d(t,{D4:function(){return o.D4},MM:function(){return f},Ot:function(){return c},c6:function(){return i},cj:function(){return g},e$:function(){return s},fn:function(){return a},iC:function(){return x},nU:function(){return u},tB:function(){return d}});var r,i,o=n(41164);let l="An unexpected error occurred. Please try again.",s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if((0,o.Bw)(e)){if((0,o.hE)(e.data))return e.data.detail;if((0,o.cz)(e.data)){var n;let t=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null==t?void 0:t.msg,": ").concat(null==t?void 0:t.loc)}if(409===e.status&&(0,o.Dy)(e.data)||404===e.status&&(0,o.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function a(e){return"object"==typeof e&&null!=e&&"status"in e}function c(e){return"object"==typeof e&&null!=e&&"data"in e&&"string"==typeof e.data.detail}function d(e){return"object"==typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}let u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:l};if((0,o.oK)(e))return{status:e.originalStatus,message:e.data};if((0,o.Bw)(e)){let{status:n}=e;return{status:n,message:s(e,t.message)}}return t},f=e=>Object.entries(e).map(e=>({value:e[1],label:e[1]}));(r=i||(i={})).GVL="gvl",r.AC="gacp",r.COMPASS="compass";let x={gvl:{label:"GVL",fullName:"Global Vendor List"},gacp:{label:"AC",fullName:"Google Additional Consent List"},compass:{label:"",fullName:""}},g=e=>{let t=e.split(".")[0];return"gacp"===t?"gacp":"gvl"===t?"gvl":"compass"}},16781:function(e,t,n){n.d(t,{MA:function(){return s},Vo:function(){return c},t5:function(){return a}});var r=n(24246),i=n(13054);let o=e=>{let{children:t}=e;return(0,r.jsxs)(i.xvT,{"data-testid":"toast-success-msg",children:[(0,r.jsx)("strong",{children:"Success:"})," ",t]})},l=e=>{let{children:t}=e;return(0,r.jsxs)(i.xvT,{"data-testid":"toast-error-msg",children:[(0,r.jsx)("strong",{children:"Error:"})," ",t]})},s={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},a=e=>{let t=(0,r.jsx)(o,{children:e});return{...s,description:t}},c=e=>{let t=(0,r.jsx)(l,{children:e});return{...s,description:t,status:"error"}}},50558:function(e,t,n){var r=n(24246),i=n(13054);n(27378),t.Z=e=>{let{isEmptyState:t,yamlError:n}=e;return(0,r.jsx)(i.Rg9,{in:!0,children:(0,r.jsxs)(i.xuv,{w:"fit-content",bg:"white",p:3,borderRadius:3,children:[(0,r.jsxs)(i.Ugi,{children:[(0,r.jsx)(i.X6q,{as:"h5",color:"gray.700",size:"xs",children:"YAML"}),(0,r.jsx)(i.Vp9,{colorScheme:"red",size:"sm",variant:"solid",children:"Error"})]}),(0,r.jsx)(i.xuv,{bg:"red.50",border:"1px solid",borderColor:"red.300",color:"red.300",mt:"16px",borderRadius:"6px",children:(0,r.jsxs)(i.Ugi,{alignItems:"flex-start",margin:["14px","17px","14px","17px"],children:[(0,r.jsx)(i.f9v,{}),t&&(0,r.jsxs)(i.xuv,{children:[(0,r.jsx)(i.X6q,{as:"h5",color:"red.500",fontWeight:"semibold",size:"xs",children:"Error message:"}),(0,r.jsx)(i.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:"Yaml system is required"})]}),n&&(0,r.jsxs)(i.xuv,{children:[(0,r.jsx)(i.X6q,{as:"h5",color:"red.500",fontWeight:"semibold",size:"xs",children:"Error message:"}),(0,r.jsx)(i.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:n.message}),(0,r.jsx)(i.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:n.reason}),(0,r.jsxs)(i.xvT,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:["Ln ",(0,r.jsx)("b",{children:n.mark.line}),", Col"," ",(0,r.jsx)("b",{children:n.mark.column}),", Pos"," ",(0,r.jsx)("b",{children:n.mark.position})]})]})]})})]})})}},12719:function(e,t,n){n.d(t,{F:function(){return l},M:function(){return o}});var r=n(76649),i=n(65218);let o=n.n(i)()(()=>n.e(7088).then(n.bind(n,57088)).then(e=>e.default),{loadableGenerated:{webpack:()=>[57088]},ssr:!1}),l=e=>(0,r.Ln)({name:"string"},e)&&"YAMLException"===e.name},50204:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(24246),i=n(13054),o=n(27378),l=n(44833),s=n(45007),a=n(60136),c=n(16781),d=n(69477),u=n(89319),f=n(52020),x=n(21618);let{reducer:g}=(0,u.oM)({name:"connectorTemplate",initialState:{},reducers:{}}),{useRegisterConnectorTemplateMutation:h}=x.u.injectEndpoints({endpoints:e=>({registerConnectorTemplate:e.mutation({query:e=>{let t=new FormData;return t.append("file",e),{url:"".concat(f.o4,"/register"),method:"POST",body:t}},invalidatesTags:()=>["Connection Type"]})})});var p=e=>{let{isOpen:t,onClose:n,testId:u="connector-template-modal"}=e,f=(0,s.I0)(),[x,g]=(0,o.useState)(null),p=(0,i.pmc)(),{getRootProps:m,getInputProps:j,isDragActive:v}=(0,l.uI)({onDrop:e=>{var t;if("zip"!==(null===(t=e[0].name.split(".").pop())||void 0===t?void 0:t.toLowerCase())){p((0,c.Vo)("Only zip files are allowed."));return}g(e[0])}}),[b,{isLoading:y}]=h(),{refetch:S}=(0,d.$I)({search:""},{skip:!1}),z=async()=>{if(x)try{var e;await b(x).unwrap(),p((0,c.t5)("Integration template uploaded successfully."));let{data:t}=await S();f((0,d.fP)(null!==(e=null==t?void 0:t.items)&&void 0!==e?e:[])),n()}catch(e){p((0,c.Vo)((0,a.e$)(e)))}finally{g(null)}};return(0,r.jsxs)(i.u_l,{isOpen:t,onClose:n,size:"2xl",children:[(0,r.jsx)(i.ZAr,{}),(0,r.jsxs)(i.hzk,{textAlign:"left",p:2,"data-testid":u,children:[(0,r.jsx)(i.xBx,{children:"Upload integration template"}),(0,r.jsxs)(i.fef,{children:[(0,r.jsx)(i.xvT,{fontSize:"sm",mb:4,children:"Drag and drop your integration template zip file here, or click to browse your files."}),(0,r.jsxs)(i.xuv,{...m(),bg:v?"gray.100":"gray.50",border:"2px dashed",borderColor:v?"gray.300":"gray.200",borderRadius:"md",cursor:"pointer",minHeight:"150px",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",children:[(0,r.jsx)("input",{...j()}),x?(0,r.jsx)(i.xvT,{children:x.name}):v?(0,r.jsx)(i.xvT,{children:"Drop the file here..."}):(0,r.jsx)(i.xvT,{children:"Click or drag and drop your file here."})]}),(0,r.jsx)(i.xvT,{fontSize:"sm",mt:4,children:"An integration template zip file must include a SaaS config and dataset, but may also contain an icon (.svg) as an optional file."})]}),(0,r.jsx)(i.mzw,{children:(0,r.jsxs)(i.hE2,{size:"sm",spacing:"2",width:"100%",display:"flex",justifyContent:"right",children:[(0,r.jsx)(i.zxk,{variant:"outline",onClick:n,"data-testid":"cancel-btn",isDisabled:y,children:"Cancel"}),(0,r.jsx)(i.zxk,{colorScheme:"primary",type:"submit",isDisabled:!x||y,onClick:z,"data-testid":"submit-btn",children:"Submit"})]})})]})]})}},48382:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(24246),i=n(13054);n(27378);var o=n(19686),l=n(59461);let s=e=>void 0!==e.connection_type,a=e=>void 0!==e.encoded_icon;var c=e=>{let{data:t,...n}=e;return(0,r.jsx)(i.Eep,{boxSize:"32px",objectFit:"cover",src:(()=>{let e;if(a(t)&&t.encoded_icon)return"data:image/svg+xml;base64,".concat(t.encoded_icon);if(s(t))e=[...l.iW].find(e=>{var n,r;let[i]=e;return t.connection_type.toString()!==o.Rj.SAAS&&t.connection_type.toString()===i||t.connection_type.toString()===o.Rj.SAAS&&(null===(r=t.saas_config)||void 0===r?void 0:null===(n=r.type)||void 0===n?void 0:n.toString())===i.toString()});else if(a(t)){let{identifier:n}=t;e=[...l.iW].find(e=>{let[t]=e;return t.toLowerCase()===n.toLowerCase()})}return e?l.Ny+e[1]:l.VD})(),fallbackSrc:l.VD,alt:(()=>{if(s(t)){var e;return null!==(e=t.name)&&void 0!==e?e:t.key}return a(t)?t.human_readable:t})(),...n})}},9699:function(e,t,n){var r=n(24246),i=n(13054),o=n(34090);t.Z=e=>{let{disabled:t=!1,displayHelpIcon:n=!0,helpIconVisibility:l=!1,isRequired:s=!1,label:a,placeholder:c,type:d="text",...u}=e,{id:f,autoFocus:x}=u,[g,h]=(0,o.U$)(u);return(0,r.jsxs)(i.NIc,{display:"flex",isRequired:s,isInvalid:!!(h.error&&h.touched),children:[a&&(0,r.jsx)(i.lXp,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:f,minWidth:"150px",children:a}),(0,r.jsxs)(i.gCW,{align:"flex-start",w:"inherit",children:["number"===d&&(0,r.jsxs)(i.Y2U,{allowMouseWheel:!0,color:"gray.700",defaultValue:0,min:0,size:"sm",children:[(0,r.jsx)(i.zuI,{...g,autoComplete:"off",autoFocus:x}),(0,r.jsxs)(i.FiK,{children:[(0,r.jsx)(i.WQu,{}),(0,r.jsx)(i.Y_d,{})]})]}),"text"===d&&(0,r.jsx)(i.IIB,{...g,autoComplete:"off",autoFocus:x,color:"gray.700",isDisabled:t,placeholder:c,size:"sm"}),"textarea"===d&&(0,r.jsx)(i.gxH,{...g,autoComplete:"off",autoFocus:x,color:"gray.700",placeholder:c,resize:"none",size:"sm",value:g.value||""}),(0,r.jsx)(i.J1D,{children:h.error})]}),n&&(0,r.jsx)(i.kCb,{alignContent:"center",h:"32px",visibility:l?"visible":"hidden",children:(0,r.jsx)(i.ITP,{marginLeft:"8px",_hover:{cursor:"pointer"}})})]})}},41164:function(e,t,n){n.d(t,{Bw:function(){return l},D4:function(){return i},Dy:function(){return a},XD:function(){return c},cz:function(){return d},hE:function(){return s},oK:function(){return o}});var r=n(76649);let i=e=>"error"in e,o=e=>(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status,l=e=>(0,r.Ln)({status:"number",data:{}},e),s=e=>(0,r.Ln)({detail:"string"},e),a=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),c=e=>(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e),d=e=>(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}}]);