[tool.poetry]
name = "datavizhub"
version = "0.1.2"
description = "A tool to injest data from a variety of sources and formats, create imagery or video based on that data, and send the results to a variety of locations for dissemination."
authors = ["Eric Hackathorn <eric.j.hackathorn@noaa.gov>"]
include = ["src/rtvideo/images/*.jpg"]
license = "MIT"
readme = "README.md"
packages = [
    { include = "datavizhub", from = "src" }
]

[tool.poetry.urls]
Homepage = "https://github.com/NOAA-GSL/datavizhub"
Documentation = "https://github.com/NOAA-GSL/datavizhub/blob/main/README.md"
Source = "https://github.com/NOAA-GSL/datavizhub"
Tracker = "https://github.com/NOAA-GSL/datavizhub/issues"

[tool.poetry.dependencies]
python = ">=3.9,<4.0"
python-dotenv = "^0.19.1"
boto3 = "^1.17" 
PyVimeo = "^1.0"
requests = "^2.25"
pygrib = "^2.1.5"
scipy = "^1.12.0"
siphon = "^0.9"
cartopy = "^0.22.0"
matplotlib = "^3.8.3"
netcdf4 = "^1.6.5"
xarray = "^2024.3.0"

[tool.poetry.dev-dependencies]
pytest = "^6.2"  # For running tests
ruff = "^0.1.6"
coverage = "^7.4.0"

[build-system]
requires = ["poetry>=0.12"]
build-backend = "poetry.masonry.api"

[tool.pytest.ini_options]
testpaths = ["tests"]
addopts = "-s -v --durations=0"
cache_dir = ".cache/pytest_cache"

[tool.coverage.run]
branch = true
source = ["src"]
command_line = "-m pytest"

[tool.coverage.report]
show_missing = true

[tool.coverage.xml]
output = "coverage.xml"

[tool.poetry.scripts]
rtvideo = "datavizhub.samples.rtvideo:main"
find-missing-frames = "datavizhub.samples.find_missing_frames:main"
detect_significant_changes = "datavizhub.samples.detect_significant_changes:main"