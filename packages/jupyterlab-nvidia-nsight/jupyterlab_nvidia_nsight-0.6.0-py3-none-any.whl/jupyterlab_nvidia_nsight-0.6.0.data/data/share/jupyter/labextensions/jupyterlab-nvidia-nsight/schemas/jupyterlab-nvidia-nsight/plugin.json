{
  "jupyter.lab.shortcuts": [],
  "title": "NVIDIA Nsight",
  "description": "jupyterlab-nvidia-nsight settings.",
  "type": "object",
  "additionalProperties": false,
  "jupyter.lab.setting-icon": "jupyterlab-nvidia-nsight:nvidia-icon",
  "properties": {
    "nsys": {
      "additionalProperties": false,
      "type": "object",
      "title": "Nsight Systems",
      "properties": {
        "installationPath": {
          "type": "string",
          "title": "Installation top folder",
          "description": "e.g. /opt/nvidia/nsight-systems/<version>"
        },
        "args": {
          "type": "string",
          "title": "Default arguments for 'nsys launch'"
        },
        "startArgs": {
          "type": "string",
          "title": "Default arguments for 'nsys start'"
        }
      },
      "default": {
        "installationPath": "",
        "args": "--trace=cuda,nvtx,osrt --python-sampling=true --python-backtrace=cuda --cudabacktrace=all",
        "startArgs": ""
      }
    },
    "ncu": {
      "additionalProperties": false,
      "type": "object",
      "title": "Nsight Compute",
      "properties": {
        "installationPath": {
          "type": "string",
          "title": "Installation top folder",
          "description": "e.g. /usr/local/NVIDIA-Nsight-Compute-<version>"
        },
        "args": {
          "type": "string",
          "title": "Default arguments for enabling 'ncu'"
        },
        "startArgs": {
          "type": "string",
          "title": "Default arguments for profiling with ncu"
        }
      },
      "default": {
        "installationPath": "",
        "args": "",
        "startArgs": ""
      }
    },
    "ui": {
      "additionalProperties": false,
      "type": "object",
      "title": "Nsight tools UI",
      "properties": {
        "enabled": {
          "type": "boolean",
          "title": "Enabled",
          "description": "Allows to open reports with nsys/ncu UI in a tab inside JupyterLab (requires docker)"
        },
        "host": {
          "type": "string",
          "title": "JupyterLab server address for streaming Nsight tools UI",
          "description": "Set the JupyterLab server host address for streaming Nsight tools UI. This is required when the JupyterLab server machine has multiple network interfaces."
        },
        "supressServerAddressWarning": {
          "type": "boolean",
          "title": "Suppress server address warning",
          "description": "Don't show warning message when the JupyterLab server address is not set"
        }
      },
      "default": {
        "enabled": true,
        "host": "",
        "supressServerAddressWarning": false
      }
    }
  },
  "jupyter.lab.menus": {
    "main": [
      {
        "id": "jp-mainmenu-nvidia",
        "label": "NVIDIA Nsight",
        "items": [
          {
            "command": "jupyterlab-nvidia-nsight:toggle-nsys-profile",
            "rank": 1
          },
          {
            "command": "jupyterlab-nvidia-nsight:toggle-ncu-profile",
            "rank": 1
          },
          {
            "type": "separator",
            "rank": 2
          },
          {
            "command": "jupyterlab-nvidia-nsight:profile-cells",
            "rank": 2
          },
          {
            "type": "separator",
            "rank": 3
          },
          {
            "command": "jupyterlab-nvidia-nsight:open-settings",
            "rank": 3
          },
          {
            "type": "separator",
            "rank": 4
          },
          {
            "command": "jupyterlab-nvidia-nsight:open-nsys-site",
            "rank": 4
          },
          {
            "command": "jupyterlab-nvidia-nsight:open-ncu-site",
            "rank": 4
          }
        ],
        "rank": 500
      }
    ],
    "context": [
      {
        "command": "jupyterlab-nvidia-nsight:open-report",
        "selector": ".jp-DirListing-item",
        "rank": 0
      }
    ]
  }
}
