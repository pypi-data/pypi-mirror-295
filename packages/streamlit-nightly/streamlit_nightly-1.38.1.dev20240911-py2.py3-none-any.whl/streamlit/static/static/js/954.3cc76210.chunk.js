"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[954],{68035:(e,t,r)=>{r.d(t,{A:()=>d});r(58878);var o=r(25571),i=r(78286),n=r(89653);const l=r(60667).i7`
  50% {
    color: rgba(0, 0, 0, 0);
  }
`,a=(0,n.A)("span",{target:"edlqvik0"})((e=>{let{includeDot:t,shouldBlink:r,theme:o}=e;return{...t?{"&::before":{opacity:1,content:'"\u2022"',animation:"none",color:o.colors.gray,margin:"0 5px"}}:{},...r?{color:o.colors.red,animationName:`${l}`,animationDuration:"0.5s",animationIterationCount:5}:{}}}),"");var s=r(90782);const d=e=>{let{dirty:t,value:r,maxLength:n,className:l,type:d="single",inForm:u}=e;const c=[],p=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.push((0,s.jsx)(a,{includeDot:c.length>0,shouldBlink:t,children:e},c.length))};if(t){const e=u?"submit form":"apply";if("multiline"===d){p(`Press ${(0,o.u_)()?"\u2318":"Ctrl"}+Enter to ${e}`)}else"single"===d&&p(`Press Enter to ${e}`)}return n&&("chat"!==d||t)&&p(`${r.length}/${n}`,t&&r.length>=n),(0,s.jsx)(i.tp,{"data-testid":"InputInstructions",className:l,children:c})}},34752:(e,t,r)=>{r.d(t,{X:()=>l,o:()=>n});var o=r(58878),i=r(25571);class n{constructor(){this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}manageFormClearListener(e,t,r){(0,i.se)(this.formClearListener)&&this.lastWidgetMgr===e&&this.lastFormId===t||(this.disconnect(),(0,i._L)(t)&&(this.formClearListener=e.addFormClearedListener(t,r),this.lastWidgetMgr=e,this.lastFormId=t))}disconnect(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}function l(e){let{element:t,widgetMgr:r,onFormCleared:n}=e;(0,o.useEffect)((()=>{if(!(0,i._L)(t.formId))return;const e=r.addFormClearedListener(t.formId,n);return()=>{e.disconnect()}}),[t,r,n])}},10954:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var o=r(58878),i=r(27774),n=r(94388),l=r(8151),a=r(34694),s=r(59095),d=r(32698),u=r.n(d),c=r(25571),p=r(34752),m=r(84996),h=r(29669),g=r(93480),f=r(997),b=r(64611),v=r(68035),y=r(70474),I=r(78286),x=r(89653);const C=(0,x.A)("div",{target:"e116k4er3"})((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",height:t.sizes.minElementHeight,borderWidth:t.sizes.borderWidth,borderStyle:"solid",borderColor:t.colors.widgetBorderColor||t.colors.widgetBackgroundColor||t.colors.bgColor,transitionDuration:"200ms",transitionProperty:"border",transitionTimingFunction:"cubic-bezier(0.2, 0.8, 0.4, 1)",borderRadius:t.radii.default,overflow:"hidden","&.focused":{borderColor:t.colors.primary},input:{MozAppearance:"textfield","&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:t.spacing.none}}}}),""),k=(0,x.A)("div",{target:"e116k4er2"})({name:"76z9jo",styles:"display:flex;flex-direction:row;align-self:stretch"}),w=(0,x.A)("button",{target:"e116k4er1"})((e=>{let{theme:t}=e;return{margin:t.spacing.none,border:"none",height:t.sizes.full,display:"flex",alignItems:"center",width:"32px",justifyContent:"center",color:t.colors.bodyText,transition:"color 300ms, backgroundColor 300ms",backgroundColor:t.colors.widgetBackgroundColor||t.colors.secondaryBg,"&:hover:enabled, &:focus:enabled":{color:t.colors.white,backgroundColor:t.colors.primary,transition:"none",outline:"none"},"&:active":{outline:"none",border:"none"},"&:last-of-type":{borderTopRightRadius:t.radii.default,borderBottomRightRadius:t.radii.default},"&:disabled":{cursor:"not-allowed",color:t.colors.fadedText40}}}),""),T=(0,x.A)("div",{target:"e116k4er0"})((e=>{let{theme:t,clearable:r}=e;return{position:"absolute",marginRight:t.spacing.twoXS,left:0,right:64+(r?12:0)+"px"}}),"");var R=r(90782);const F=e=>{let{step:t,dataType:r}=e;return t||(r===h.Q7.DataType.INT?1:.01)},D=e=>{let{value:t,format:r,step:o,dataType:i}=e;if((0,c.hX)(t))return null;let n=function(e){return(0,c.hX)(e)||""===e?void 0:e}(r);if((0,c.hX)(n)&&(0,c.se)(o)){const e=o.toString();if(i===h.Q7.DataType.FLOAT&&0!==o&&e.includes(".")){n=`%0.${e.split(".")[1].length}f`}}if((0,c.hX)(n))return t.toString();try{return(0,a.sprintf)(n,t)}catch(l){return(0,m.FF)(`Error in sprintf(${n}, ${t}): ${l}`),String(t)}},j=(0,l.b)((e=>{var t;let{disabled:r,element:l,widgetMgr:a,width:d,theme:m,fragmentId:x}=e;const{dataType:j,id:L,formId:A,default:N,format:W}=l,M=l.hasMin?l.min:-1/0,S=l.hasMax?l.max:1/0,[B,E]=o.useState(F(l)),V=(e=>{var t;const r=e.element.dataType===h.Q7.DataType.INT?e.widgetMgr.getIntValue(e.element):e.widgetMgr.getDoubleValue(e.element);return null!==(t=null!==r&&void 0!==r?r:e.element.default)&&void 0!==t?t:null})({element:l,widgetMgr:a}),[X,$]=o.useState(!1),[_,U]=o.useState(V),[z,Q]=o.useState(D({value:V,...l,step:B})),[H,P]=o.useState(!1),O=o.useRef(null),G=o.useRef(new p.o),K=o.useRef(u()("number_input_")),q=((e,t,r)=>!(0,c.hX)(e)&&e-t>=r)(_,B,M),J=((e,t,r)=>!(0,c.hX)(e)&&e+t<=r)(_,B,S);o.useEffect((()=>{E(F({step:l.step,dataType:l.dataType}))}),[l.dataType,l.step]);const Y=o.useCallback((e=>{let{value:t,source:r}=e;if((0,c.se)(t)&&(M>t||t>S)){var o;null===(o=O.current)||void 0===o||o.reportValidity()}else{var i;const e=null!==(i=null!==t&&void 0!==t?t:N)&&void 0!==i?i:null;switch(j){case h.Q7.DataType.INT:a.setIntValue({id:L,formId:A},e,r,x);break;case h.Q7.DataType.FLOAT:a.setDoubleValue({id:L,formId:A},e,r,x);break;default:throw new Error("Invalid data type")}$(!1),U(e),Q(D({value:e,dataType:j,format:W,step:B}))}}),[M,S,O,a,x,B,j,L,A,N,W]),Z=()=>{const{value:e}=l;l.setValue=!1,U(null!==e&&void 0!==e?e:null),Q(D({value:null!==e&&void 0!==e?e:null,...l,step:B})),Y({value:null!==e&&void 0!==e?e:null,source:{fromUi:!1}})};o.useEffect((()=>{const e=G.current;return l.setValue?Z():Y({value:_,source:{fromUi:!1}}),()=>{e.disconnect()}}),[]),l.setValue&&Z();const ee=(0,c.hX)(l.default)&&!r;G.current.manageFormClearListener(a,l.formId,(()=>{var e;U(null!==(e=l.default)&&void 0!==e?e:null),Y({value:_,source:{fromUi:!0}})}));const te=o.useCallback((()=>{J&&($(!0),Y({value:(null!==_&&void 0!==_?_:M)+B,source:{fromUi:!0}}))}),[_,M,B,J]),re=o.useCallback((()=>{q&&($(!0),Y({value:(null!==_&&void 0!==_?_:S)-B,source:{fromUi:!0}}))}),[_,S,B,q]),oe=o.useCallback((e=>{const{key:t}=e;switch(t){case"ArrowUp":e.preventDefault(),te();break;case"ArrowDown":e.preventDefault(),re()}}),[te,re]),ie=o.useCallback((e=>{"Enter"===e.key&&(X&&Y({value:_,source:{fromUi:!0}}),(0,c.Ml)({formId:A})&&a.submitForm(A,x))}),[X,_,Y,a,A,x]);return(0,R.jsxs)("div",{className:"stNumberInput","data-testid":"stNumberInput",style:{width:d},children:[(0,R.jsx)(y.L,{label:l.label,disabled:r,labelVisibility:(0,c.yv)(null===(t=l.labelVisibility)||void 0===t?void 0:t.value),htmlFor:K.current,children:l.help&&(0,R.jsx)(I.j,{children:(0,R.jsx)(g.A,{content:l.help,placement:f.W.TOP_RIGHT})})}),(0,R.jsxs)(C,{className:H?"focused":"","data-testid":"stNumberInputContainer",children:[(0,R.jsx)(s.A,{type:"number",inputRef:O,value:null!==z&&void 0!==z?z:"",placeholder:l.placeholder,onBlur:()=>(X&&Y({value:_,source:{fromUi:!0}}),void P(!1)),onFocus:()=>{P(!0)},onChange:e=>(e=>{const{value:t}=e.target;if(""===t)$(!0),U(null),Q(null);else{let e;e=l.dataType===h.Q7.DataType.INT?parseInt(t,10):parseFloat(t),$(!0),U(e),Q(t)}})(e),onKeyPress:e=>ie(e),onKeyDown:e=>oe(e),clearable:ee,clearOnEscape:ee,disabled:r,"aria-label":l.label,id:K.current,overrides:{ClearIcon:{props:{overrides:{Svg:{style:{color:m.colors.darkGray,transform:"scale(1.4)",width:m.spacing.twoXL,marginRight:"-1.25em",":hover":{fill:m.colors.bodyText}}}}}},Input:{props:{"data-testid":"stNumberInputField",step:B,min:M,max:S},style:{lineHeight:m.lineHeights.inputWidget,paddingRight:m.spacing.sm,paddingLeft:m.spacing.sm,paddingBottom:m.spacing.sm,paddingTop:m.spacing.sm}},InputContainer:{style:()=>({borderTopRightRadius:0,borderBottomRightRadius:0})},Root:{style:()=>({borderTopRightRadius:0,borderBottomRightRadius:0,borderLeftWidth:0,borderRightWidth:0,borderTopWidth:0,borderBottomWidth:0})}}}),d>m.breakpoints.hideNumberInputControls&&(0,R.jsxs)(k,{children:[(0,R.jsx)(w,{"data-testid":"stNumberInputStepDown",onClick:re,disabled:!q||r,tabIndex:-1,children:(0,R.jsx)(b.A,{content:i.H,size:"xs",color:q?"inherit":"disabled"})}),(0,R.jsx)(w,{"data-testid":"stNumberInputStepUp",onClick:te,disabled:!J||r,tabIndex:-1,children:(0,R.jsx)(b.A,{content:n.F,size:"xs",color:J?"inherit":"disabled"})})]})]}),d>m.breakpoints.hideWidgetDetails&&(0,R.jsx)(T,{clearable:ee,children:(0,R.jsx)(v.A,{dirty:X,value:null!==z&&void 0!==z?z:"",inForm:(0,c.Ml)({formId:l.formId})})})]})}))}}]);