{"version":3,"file":"qa2topQ6.js","mappings":";AA2DA;;;AAIA;;AASA;AAEA;AAGA;;;AAIA;AACA;;AAEA;AAEA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAkBA;;AAEA;;AAEA;;;AAGA;AACA;AAEA;;AAEA;AAOA;;AAEA;;AAEA;;;AAGA;AACA;AAEA;;AA/CA;;AAGA;;AAEA;AACA;;;AAIA;;AAKA;;;;;AAwCA;AACA;AACA;;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;;;;;;;;;;;;;AC7PA;;;;ACpCA;AACA;AACA;;AAEA;AACA;;;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;ACEA;;AAEA;AACA;AACA;AACA;;AAIA;;AAGA;AACA;;;AAIA;;;;AA4BA;;AAGA;AACA;AACA;;AAEA;AAGA;;AAEA;;;AAGA;;AAGA;AACA;;;AAGA;AAEA;AACA;AAEA;;;;;;AAQA;;;AAKA;;;;;AAMA;;AAGA;AACA;;;;;AAKA;;;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;;AC1UA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAIA;;AAKA;;;;AAIA;;;;;ACpEA;;;;AD6EA;;AAEA;;;;;AAKA;AACA;;;;AAIA;;;;;AAKA;;;AAIA;;;;AAOA;;;AAGA;AACA;;;AAGA;AACA;;;AAGA;AACA;;;AAGA;AACA;;;;;AAKA;AACA;;AAEA;;;;;;AAOA;;AAKA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA;;;;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA","sources":["webpack://knx-frontend/./homeassistant-frontend/src/components/ha-file-upload.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-ripple.ts","webpack://knx-frontend/./homeassistant-frontend/src/components/ha-tab.ts","webpack://knx-frontend/./homeassistant-frontend/src/layouts/hass-tabs-subpage.ts","webpack://knx-frontend/./src/views/info.ts","webpack://knx-frontend/./src/version.ts"],"sourcesContent":["import \"@material/mwc-linear-progress/mwc-linear-progress\";\nimport { mdiDelete, mdiFileUpload } from \"@mdi/js\";\nimport { LitElement, PropertyValues, TemplateResult, css, html } from \"lit\";\nimport { customElement, property, query, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport { fireEvent } from \"../common/dom/fire_event\";\nimport { HomeAssistant } from \"../types\";\nimport \"./ha-button\";\nimport \"./ha-icon-button\";\nimport { blankBeforePercent } from \"../common/translations/blank_before_percent\";\nimport { ensureArray } from \"../common/array/ensure-array\";\nimport { bytesToString } from \"../util/bytes-to-string\";\n\ndeclare global {\n  interface HASSDomEvents {\n    \"file-picked\": { files: File[] };\n  }\n}\n\n@customElement(\"ha-file-upload\")\nexport class HaFileUpload extends LitElement {\n  @property({ attribute: false }) public hass?: HomeAssistant;\n\n  @property() public accept!: string;\n\n  @property() public icon?: string;\n\n  @property() public label?: string;\n\n  @property() public secondary?: string;\n\n  @property() public supports?: string;\n\n  @property({ type: Object }) public value?: File | File[] | FileList | string;\n\n  @property({ type: Boolean }) public multiple = false;\n\n  @property({ type: Boolean, reflect: true }) public disabled = false;\n\n  @property({ type: Boolean }) public uploading = false;\n\n  @property({ type: Number }) public progress?: number;\n\n  @property({ type: Boolean, attribute: \"auto-open-file-dialog\" })\n  public autoOpenFileDialog = false;\n\n  @state() private _drag = false;\n\n  @query(\"#input\") private _input?: HTMLInputElement;\n\n  protected firstUpdated(changedProperties: PropertyValues) {\n    super.firstUpdated(changedProperties);\n    if (this.autoOpenFileDialog) {\n      this._openFilePicker();\n    }\n  }\n\n  public render(): TemplateResult {\n    return html`\n      ${this.uploading\n        ? html`<div class=\"container\">\n            <div class=\"row\">\n              <span class=\"header\"\n                >${this.value\n                  ? this.hass?.localize(\n                      \"ui.components.file-upload.uploading_name\",\n                      { name: this.value.toString() }\n                    )\n                  : this.hass?.localize(\n                      \"ui.components.file-upload.uploading\"\n                    )}</span\n              >\n              ${this.progress\n                ? html`<span class=\"progress\"\n                    >${this.progress}${blankBeforePercent(\n                      this.hass!.locale\n                    )}%</span\n                  >`\n                : \"\"}\n            </div>\n            <mwc-linear-progress\n              .indeterminate=${!this.progress}\n              .progress=${this.progress ? this.progress / 100 : undefined}\n            ></mwc-linear-progress>\n          </div>`\n        : html`<label\n            for=${this.value ? \"\" : \"input\"}\n            class=\"container ${classMap({\n              dragged: this._drag,\n              multiple: this.multiple,\n              value: Boolean(this.value),\n            })}\"\n            @drop=${this._handleDrop}\n            @dragenter=${this._handleDragStart}\n            @dragover=${this._handleDragStart}\n            @dragleave=${this._handleDragEnd}\n            @dragend=${this._handleDragEnd}\n            >${!this.value\n              ? html`<ha-svg-icon\n                    class=\"big-icon\"\n                    .path=${this.icon || mdiFileUpload}\n                  ></ha-svg-icon>\n                  <ha-button unelevated @click=${this._openFilePicker}>\n                    ${this.label ||\n                    this.hass?.localize(\"ui.components.file-upload.label\")}\n                  </ha-button>\n                  <span class=\"secondary\"\n                    >${this.secondary ||\n                    this.hass?.localize(\n                      \"ui.components.file-upload.secondary\"\n                    )}</span\n                  >\n                  <span class=\"supports\">${this.supports}</span>`\n              : typeof this.value === \"string\"\n                ? html`<div class=\"row\">\n                    <div class=\"value\" @click=${this._openFilePicker}>\n                      <ha-svg-icon\n                        .path=${this.icon || mdiFileUpload}\n                      ></ha-svg-icon>\n                      ${this.value}\n                    </div>\n                    <ha-icon-button\n                      @click=${this._clearValue}\n                      .label=${this.hass?.localize(\"ui.common.delete\") ||\n                      \"Delete\"}\n                      .path=${mdiDelete}\n                    ></ha-icon-button>\n                  </div>`\n                : (this.value instanceof FileList\n                    ? Array.from(this.value)\n                    : ensureArray(this.value)\n                  ).map(\n                    (file) =>\n                      html`<div class=\"row\">\n                        <div class=\"value\" @click=${this._openFilePicker}>\n                          <ha-svg-icon\n                            .path=${this.icon || mdiFileUpload}\n                          ></ha-svg-icon>\n                          ${file.name} - ${bytesToString(file.size)}\n                        </div>\n                        <ha-icon-button\n                          @click=${this._clearValue}\n                          .label=${this.hass?.localize(\"ui.common.delete\") ||\n                          \"Delete\"}\n                          .path=${mdiDelete}\n                        ></ha-icon-button>\n                      </div>`\n                  )}\n            <input\n              id=\"input\"\n              type=\"file\"\n              class=\"file\"\n              .accept=${this.accept}\n              .multiple=${this.multiple}\n              @change=${this._handleFilePicked}\n          /></label>`}\n    `;\n  }\n\n  private _openFilePicker() {\n    this._input?.click();\n  }\n\n  private _handleDrop(ev: DragEvent) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    if (ev.dataTransfer?.files) {\n      fireEvent(this, \"file-picked\", {\n        files:\n          this.multiple || ev.dataTransfer.files.length === 1\n            ? Array.from(ev.dataTransfer.files)\n            : [ev.dataTransfer.files[0]],\n      });\n    }\n    this._drag = false;\n  }\n\n  private _handleDragStart(ev: DragEvent) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this._drag = true;\n  }\n\n  private _handleDragEnd(ev: DragEvent) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this._drag = false;\n  }\n\n  private _handleFilePicked(ev) {\n    if (ev.target.files.length === 0) {\n      return;\n    }\n    this.value = ev.target.files;\n    fireEvent(this, \"file-picked\", { files: ev.target.files });\n  }\n\n  private _clearValue(ev: Event) {\n    ev.preventDefault();\n    this._input!.value = \"\";\n    this.value = undefined;\n    fireEvent(this, \"change\");\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        display: block;\n        height: 240px;\n      }\n      :host([disabled]) {\n        pointer-events: none;\n        color: var(--disabled-text-color);\n      }\n      .container {\n        position: relative;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        border: solid 1px\n          var(--mdc-text-field-idle-line-color, rgba(0, 0, 0, 0.42));\n        border-radius: var(--mdc-shape-small, 4px);\n        height: 100%;\n      }\n      label.container {\n        border: dashed 1px\n          var(--mdc-text-field-idle-line-color, rgba(0, 0, 0, 0.42));\n        cursor: pointer;\n      }\n      :host([disabled]) .container {\n        border-color: var(--disabled-color);\n      }\n      label.dragged {\n        border-color: var(--primary-color);\n      }\n      .dragged:before {\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        background-color: var(--primary-color);\n        content: \"\";\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n        border-radius: var(--mdc-shape-small, 4px);\n      }\n      label.value {\n        cursor: default;\n      }\n      label.value.multiple {\n        justify-content: unset;\n        overflow: auto;\n      }\n      .highlight {\n        color: var(--primary-color);\n      }\n      .row {\n        display: flex;\n        width: 100%;\n        align-items: center;\n        justify-content: space-between;\n        padding: 0 16px;\n        box-sizing: border-box;\n      }\n      ha-button {\n        margin-bottom: 4px;\n      }\n      .supports {\n        color: var(--secondary-text-color);\n        font-size: 12px;\n      }\n      :host([disabled]) .secondary {\n        color: var(--disabled-text-color);\n      }\n      input.file {\n        display: none;\n      }\n      .value {\n        cursor: pointer;\n      }\n      .value ha-svg-icon {\n        margin-right: 8px;\n        margin-inline-end: 8px;\n        margin-inline-start: initial;\n      }\n      .big-icon {\n        --mdc-icon-size: 48px;\n        margin-bottom: 8px;\n      }\n      ha-button {\n        --mdc-button-outline-color: var(--primary-color);\n        --mdc-icon-button-size: 24px;\n      }\n      mwc-linear-progress {\n        width: 100%;\n        padding: 16px;\n        box-sizing: border-box;\n      }\n      .header {\n        font-weight: 500;\n      }\n      .progress {\n        color: var(--secondary-text-color);\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-file-upload\": HaFileUpload;\n  }\n}\n","import { AttachableController } from \"@material/web/internal/controller/attachable-controller\";\nimport { MdRipple } from \"@material/web/ripple/ripple\";\nimport { css } from \"lit\";\nimport { customElement } from \"lit/decorators\";\n\n@customElement(\"ha-ripple\")\nexport class HaRipple extends MdRipple {\n  private readonly attachableTouchController = new AttachableController(\n    this,\n    this.onTouchControlChange.bind(this)\n  );\n\n  attach(control: HTMLElement) {\n    super.attach(control);\n    this.attachableTouchController.attach(control);\n  }\n\n  detach() {\n    super.detach();\n    this.attachableTouchController.detach();\n  }\n\n  private _handleTouchEnd = () => {\n    if (!this.disabled) {\n      // @ts-ignore\n      super.endPressAnimation();\n    }\n  };\n\n  private onTouchControlChange(\n    prev: HTMLElement | null,\n    next: HTMLElement | null\n  ) {\n    // Add touchend event to clean ripple on touch devices using action handler\n    prev?.removeEventListener(\"touchend\", this._handleTouchEnd);\n    next?.addEventListener(\"touchend\", this._handleTouchEnd);\n  }\n\n  static override styles = [\n    ...super.styles,\n    css`\n      :host {\n        --md-ripple-hover-opacity: var(--ha-ripple-hover-opacity, 0.08);\n        --md-ripple-pressed-opacity: var(--ha-ripple-pressed-opacity, 0.12);\n        --md-ripple-hover-color: var(\n          --ha-ripple-hover-color,\n          var(--ha-ripple-color, var(--secondary-text-color))\n        );\n        --md-ripple-pressed-color: var(\n          --ha-ripple-pressed-color,\n          var(--ha-ripple-color, var(--secondary-text-color))\n        );\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-ripple\": HaRipple;\n  }\n}\n","import { css, CSSResultGroup, html, LitElement, TemplateResult } from \"lit\";\nimport { customElement, property } from \"lit/decorators\";\nimport { ifDefined } from \"lit/directives/if-defined\";\nimport \"./ha-ripple\";\n\n@customElement(\"ha-tab\")\nexport class HaTab extends LitElement {\n  @property({ type: Boolean, reflect: true }) public active = false;\n\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n\n  @property() public name?: string;\n\n  protected render(): TemplateResult {\n    return html`\n      <div\n        tabindex=\"0\"\n        role=\"tab\"\n        aria-selected=${this.active}\n        aria-label=${ifDefined(this.name)}\n        @keydown=${this._handleKeyDown}\n      >\n        ${this.narrow ? html`<slot name=\"icon\"></slot>` : \"\"}\n        <span class=\"name\">${this.name}</span>\n        <ha-ripple></ha-ripple>\n      </div>\n    `;\n  }\n\n  private _handleKeyDown(ev: KeyboardEvent): void {\n    if (ev.key === \"Enter\") {\n      (ev.target as HTMLElement).click();\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      div {\n        padding: 0 32px;\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        box-sizing: border-box;\n        align-items: center;\n        justify-content: center;\n        width: 100%;\n        height: var(--header-height);\n        cursor: pointer;\n        position: relative;\n        outline: none;\n      }\n\n      .name {\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        max-width: 100%;\n      }\n\n      :host([active]) {\n        color: var(--primary-color);\n      }\n\n      :host(:not([narrow])[active]) div {\n        border-bottom: 2px solid var(--primary-color);\n      }\n\n      :host([narrow]) {\n        min-width: 0;\n        display: flex;\n        justify-content: center;\n        overflow: hidden;\n      }\n\n      :host([narrow]) div {\n        padding: 0 4px;\n      }\n\n      div:focus-visible:before {\n        position: absolute;\n        display: block;\n        content: \"\";\n        inset: 0;\n        background-color: var(--secondary-text-color);\n        opacity: 0.08;\n      }\n    `;\n  }\n}\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"ha-tab\": HaTab;\n  }\n}\n","import {\n  css,\n  CSSResultGroup,\n  html,\n  LitElement,\n  nothing,\n  PropertyValues,\n  TemplateResult,\n} from \"lit\";\nimport { customElement, eventOptions, property, state } from \"lit/decorators\";\nimport { classMap } from \"lit/directives/class-map\";\nimport memoizeOne from \"memoize-one\";\nimport { restoreScroll } from \"../common/decorators/restore-scroll\";\nimport { LocalizeFunc } from \"../common/translations/localize\";\nimport \"../components/ha-icon-button-arrow-prev\";\nimport \"../components/ha-menu-button\";\nimport \"../components/ha-svg-icon\";\nimport \"../components/ha-tab\";\nimport { HomeAssistant, Route } from \"../types\";\nimport { haStyleScrollbar } from \"../resources/styles\";\nimport { canShowPage } from \"../common/config/can_show_page\";\n\nexport interface PageNavigation {\n  path: string;\n  translationKey?: string;\n  component?: string | string[];\n  name?: string;\n  not_component?: string | string[];\n  core?: boolean;\n  advancedOnly?: boolean;\n  iconPath?: string;\n  description?: string;\n  iconColor?: string;\n  info?: any;\n}\n\n@customElement(\"hass-tabs-subpage\")\nclass HassTabsSubpage extends LitElement {\n  @property({ attribute: false }) public hass!: HomeAssistant;\n\n  @property({ type: Boolean }) public supervisor = false;\n\n  @property({ attribute: false }) public localizeFunc?: LocalizeFunc;\n\n  @property({ type: String, attribute: \"back-path\" }) public backPath?: string;\n\n  @property({ attribute: false }) public backCallback?: () => void;\n\n  @property({ type: Boolean, attribute: \"main-page\" }) public mainPage = false;\n\n  @property({ attribute: false }) public route!: Route;\n\n  @property({ attribute: false }) public tabs!: PageNavigation[];\n\n  @property({ type: Boolean, reflect: true }) public narrow = false;\n\n  @property({ type: Boolean, reflect: true, attribute: \"is-wide\" })\n  public isWide = false;\n\n  @property({ type: Boolean }) public pane = false;\n\n  @state() private _activeTab?: PageNavigation;\n\n  // @ts-ignore\n  @restoreScroll(\".content\") private _savedScrollPos?: number;\n\n  private _getTabs = memoizeOne(\n    (\n      tabs: PageNavigation[],\n      activeTab: PageNavigation | undefined,\n      _components,\n      _language,\n      _narrow,\n      localizeFunc\n    ) => {\n      const shownTabs = tabs.filter((page) => canShowPage(this.hass, page));\n\n      if (shownTabs.length < 2) {\n        if (shownTabs.length === 1) {\n          const page = shownTabs[0];\n          return [\n            page.translationKey ? localizeFunc(page.translationKey) : page.name,\n          ];\n        }\n        return [\"\"];\n      }\n\n      return shownTabs.map(\n        (page) => html`\n          <a href=${page.path}>\n            <ha-tab\n              .hass=${this.hass}\n              .active=${page.path === activeTab?.path}\n              .narrow=${this.narrow}\n              .name=${page.translationKey\n                ? localizeFunc(page.translationKey)\n                : page.name}\n            >\n              ${page.iconPath\n                ? html`<ha-svg-icon\n                    slot=\"icon\"\n                    .path=${page.iconPath}\n                  ></ha-svg-icon>`\n                : \"\"}\n            </ha-tab>\n          </a>\n        `\n      );\n    }\n  );\n\n  public willUpdate(changedProperties: PropertyValues) {\n    if (changedProperties.has(\"route\")) {\n      this._activeTab = this.tabs.find((tab) =>\n        `${this.route.prefix}${this.route.path}`.includes(tab.path)\n      );\n    }\n    super.willUpdate(changedProperties);\n  }\n\n  protected render(): TemplateResult {\n    const tabs = this._getTabs(\n      this.tabs,\n      this._activeTab,\n      this.hass.config.components,\n      this.hass.language,\n      this.narrow,\n      this.localizeFunc || this.hass.localize\n    );\n    const showTabs = tabs.length > 1;\n    return html`\n      <div class=\"toolbar\">\n        <slot name=\"toolbar\">\n          <div class=\"toolbar-content\">\n            ${this.mainPage || (!this.backPath && history.state?.root)\n              ? html`\n                  <ha-menu-button\n                    .hassio=${this.supervisor}\n                    .hass=${this.hass}\n                    .narrow=${this.narrow}\n                  ></ha-menu-button>\n                `\n              : this.backPath\n                ? html`\n                    <a href=${this.backPath}>\n                      <ha-icon-button-arrow-prev\n                        .hass=${this.hass}\n                      ></ha-icon-button-arrow-prev>\n                    </a>\n                  `\n                : html`\n                    <ha-icon-button-arrow-prev\n                      .hass=${this.hass}\n                      @click=${this._backTapped}\n                    ></ha-icon-button-arrow-prev>\n                  `}\n            ${this.narrow || !showTabs\n              ? html`<div class=\"main-title\">\n                  <slot name=\"header\">${!showTabs ? tabs[0] : \"\"}</slot>\n                </div>`\n              : \"\"}\n            ${showTabs && !this.narrow\n              ? html`<div id=\"tabbar\">${tabs}</div>`\n              : \"\"}\n            <div id=\"toolbar-icon\">\n              <slot name=\"toolbar-icon\"></slot>\n            </div>\n          </div>\n        </slot>\n        ${showTabs && this.narrow\n          ? html`<div id=\"tabbar\" class=\"bottom-bar\">${tabs}</div>`\n          : \"\"}\n      </div>\n      <div class=\"container\">\n        ${this.pane\n          ? html`<div class=\"pane\">\n              <div class=\"shadow-container\"></div>\n              <div class=\"ha-scrollbar\">\n                <slot name=\"pane\"></slot>\n              </div>\n            </div>`\n          : nothing}\n        <div\n          class=\"content ha-scrollbar ${classMap({ tabs: showTabs })}\"\n          @scroll=${this._saveScrollPos}\n        >\n          <slot></slot>\n        </div>\n      </div>\n      <div id=\"fab\" class=${classMap({ tabs: showTabs })}>\n        <slot name=\"fab\"></slot>\n      </div>\n    `;\n  }\n\n  @eventOptions({ passive: true })\n  private _saveScrollPos(e: Event) {\n    this._savedScrollPos = (e.target as HTMLDivElement).scrollTop;\n  }\n\n  private _backTapped(): void {\n    if (this.backCallback) {\n      this.backCallback();\n      return;\n    }\n    history.back();\n  }\n\n  static get styles(): CSSResultGroup {\n    return [\n      haStyleScrollbar,\n      css`\n        :host {\n          display: block;\n          height: 100%;\n          background-color: var(--primary-background-color);\n        }\n\n        :host([narrow]) {\n          width: 100%;\n          position: fixed;\n        }\n\n        .container {\n          display: flex;\n          height: calc(100% - var(--header-height));\n        }\n\n        :host([narrow]) .container {\n          height: 100%;\n        }\n\n        ha-menu-button {\n          margin-right: 24px;\n          margin-inline-end: 24px;\n          margin-inline-start: initial;\n        }\n\n        .toolbar {\n          font-size: 20px;\n          height: var(--header-height);\n          background-color: var(--sidebar-background-color);\n          font-weight: 400;\n          border-bottom: 1px solid var(--divider-color);\n          box-sizing: border-box;\n        }\n        .toolbar-content {\n          padding: 8px 12px;\n          display: flex;\n          align-items: center;\n          height: 100%;\n          box-sizing: border-box;\n        }\n        @media (max-width: 599px) {\n          .toolbar-content {\n            padding: 4px;\n          }\n        }\n        .toolbar a {\n          color: var(--sidebar-text-color);\n          text-decoration: none;\n        }\n        .bottom-bar a {\n          width: 25%;\n        }\n\n        #tabbar {\n          display: flex;\n          font-size: 14px;\n          overflow: hidden;\n        }\n\n        #tabbar > a {\n          overflow: hidden;\n          max-width: 45%;\n        }\n\n        #tabbar.bottom-bar {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          padding: 0 16px;\n          box-sizing: border-box;\n          background-color: var(--sidebar-background-color);\n          border-top: 1px solid var(--divider-color);\n          justify-content: space-around;\n          z-index: 2;\n          font-size: 12px;\n          width: 100%;\n          padding-bottom: env(safe-area-inset-bottom);\n        }\n\n        #tabbar:not(.bottom-bar) {\n          flex: 1;\n          justify-content: center;\n        }\n\n        :host(:not([narrow])) #toolbar-icon {\n          min-width: 40px;\n        }\n\n        ha-menu-button,\n        ha-icon-button-arrow-prev,\n        ::slotted([slot=\"toolbar-icon\"]) {\n          display: flex;\n          flex-shrink: 0;\n          pointer-events: auto;\n          color: var(--sidebar-icon-color);\n        }\n\n        .main-title {\n          flex: 1;\n          max-height: var(--header-height);\n          line-height: 20px;\n          color: var(--sidebar-text-color);\n          margin: var(--main-title-margin, var(--margin-title));\n        }\n\n        .content {\n          position: relative;\n          width: calc(\n            100% - env(safe-area-inset-left) - env(safe-area-inset-right)\n          );\n          margin-left: env(safe-area-inset-left);\n          margin-right: env(safe-area-inset-right);\n          margin-inline-start: env(safe-area-inset-left);\n          margin-inline-end: env(safe-area-inset-right);\n          overflow: auto;\n          -webkit-overflow-scrolling: touch;\n        }\n\n        :host([narrow]) .content.tabs {\n          height: calc(100% - 2 * var(--header-height));\n          height: calc(\n            100% - 2 * var(--header-height) - env(safe-area-inset-bottom)\n          );\n        }\n\n        #fab {\n          position: fixed;\n          right: calc(16px + env(safe-area-inset-right));\n          inset-inline-end: calc(16px + env(safe-area-inset-right));\n          inset-inline-start: initial;\n          bottom: calc(16px + env(safe-area-inset-bottom));\n          z-index: 1;\n          display: flex;\n          flex-wrap: wrap;\n          justify-content: flex-end;\n          gap: 8px;\n        }\n        :host([narrow]) #fab.tabs {\n          bottom: calc(84px + env(safe-area-inset-bottom));\n        }\n        #fab[is-wide] {\n          bottom: 24px;\n          right: 24px;\n          inset-inline-end: 24px;\n          inset-inline-start: initial;\n        }\n\n        .pane {\n          border-right: 1px solid var(--divider-color);\n          border-inline-end: 1px solid var(--divider-color);\n          border-inline-start: initial;\n          box-sizing: border-box;\n          display: flex;\n          flex: 0 0 var(--sidepane-width, 250px);\n          width: var(--sidepane-width, 250px);\n          flex-direction: column;\n          position: relative;\n        }\n        .pane .ha-scrollbar {\n          flex: 1;\n        }\n      `,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"hass-tabs-subpage\": HassTabsSubpage;\n  }\n}\n","import { mdiFileUpload } from \"@mdi/js\";\nimport { css, nothing, html, LitElement, TemplateResult, CSSResultGroup } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators\";\n\nimport { fireEvent } from \"@ha/common/dom/fire_event\";\nimport \"@ha/components/ha-card\";\nimport \"@ha/layouts/hass-tabs-subpage\";\nimport type { PageNavigation } from \"@ha/layouts/hass-tabs-subpage\";\nimport \"@ha/components/ha-button\";\nimport \"@ha/components/ha-file-upload\";\nimport \"@ha/components/ha-selector/ha-selector-text\";\nimport { uploadFile } from \"@ha/data/file_upload\";\nimport { extractApiErrorMessage } from \"@ha/data/hassio/common\";\nimport { showAlertDialog, showConfirmationDialog } from \"@ha/dialogs/generic/show-dialog-box\";\nimport { HomeAssistant, Route } from \"@ha/types\";\n\nimport { processProjectFile, removeProjectFile } from \"../services/websocket.service\";\n\nimport { KNX } from \"../types/knx\";\nimport { KNXProjectInfo } from \"../types/websocket\";\nimport { KNXLogger } from \"../tools/knx-logger\";\nimport { VERSION } from \"../version\";\n\nconst logger = new KNXLogger(\"info\");\n\n@customElement(\"knx-info\")\nexport class KNXInfo extends LitElement {\n  @property({ type: Object }) public hass!: HomeAssistant;\n\n  @property({ attribute: false }) public knx!: KNX;\n\n  @property({ type: Boolean, reflect: true }) public narrow!: boolean;\n\n  @property({ type: Object }) public route?: Route;\n\n  @property({ type: Array, reflect: false }) public tabs!: PageNavigation[];\n\n  @state() private _projectPassword?: string;\n\n  @state() private _uploading = false;\n\n  @state() private _projectFile?: File;\n\n  protected render(): TemplateResult | void {\n    return html`\n      <hass-tabs-subpage\n        .hass=${this.hass}\n        .narrow=${this.narrow!}\n        .route=${this.route!}\n        .tabs=${this.tabs}\n        .localizeFunc=${this.knx.localize}\n      >\n        <div class=\"columns\">\n          ${this._renderInfoCard()}\n          ${this.knx.info.project ? this._renderProjectDataCard(this.knx.info.project) : nothing}\n          ${this._renderProjectUploadCard()}\n        </div>\n      </hass-tabs-subpage>\n    `;\n  }\n\n  private _renderInfoCard() {\n    return html` <ha-card class=\"knx-info\">\n      <div class=\"card-content knx-info-section\">\n        <div class=\"knx-content-row header\">${this.knx.localize(\"info_information_header\")}</div>\n\n        <div class=\"knx-content-row\">\n          <div>XKNX Version</div>\n          <div>${this.knx.info.version}</div>\n        </div>\n\n        <div class=\"knx-content-row\">\n          <div>KNX-Frontend Version</div>\n          <div>${VERSION}</div>\n        </div>\n\n        <div class=\"knx-content-row\">\n          <div>${this.knx.localize(\"info_connected_to_bus\")}</div>\n          <div>\n            ${this.hass.localize(this.knx.info.connected ? \"ui.common.yes\" : \"ui.common.no\")}\n          </div>\n        </div>\n\n        <div class=\"knx-content-row\">\n          <div>${this.knx.localize(\"info_individual_address\")}</div>\n          <div>${this.knx.info.current_address}</div>\n        </div>\n\n        <div class=\"knx-bug-report\">\n          ${this.knx.localize(\"info_issue_tracker\")}\n          <a href=\"https://github.com/XKNX/knx-integration\" target=\"_blank\">xknx/knx-integration</a>\n        </div>\n\n        <div class=\"knx-bug-report\">\n          ${this.knx.localize(\"info_my_knx\")}\n          <a href=\"https://my.knx.org\" target=\"_blank\">my.knx.org</a>\n      </div>\n    </ha-card>`;\n  }\n\n  private _renderProjectDataCard(projectInfo: KNXProjectInfo) {\n    return html`\n      <ha-card class=\"knx-info\">\n          <div class=\"card-content knx-content\">\n            <div class=\"header knx-content-row\">\n              ${this.knx.localize(\"info_project_data_header\")}\n            </div>\n            <div class=\"knx-content-row\">\n              <div>${this.knx.localize(\"info_project_data_name\")}</div>\n              <div>${projectInfo.name}</div>\n            </div>\n            <div class=\"knx-content-row\">\n              <div>${this.knx.localize(\"info_project_data_last_modified\")}</div>\n              <div>${new Date(projectInfo.last_modified).toUTCString()}</div>\n            </div>\n            <div class=\"knx-content-row\">\n              <div>${this.knx.localize(\"info_project_data_tool_version\")}</div>\n              <div>${projectInfo.tool_version}</div>\n            </div>\n            <div class=\"knx-content-row\">\n              <div>${this.knx.localize(\"info_project_data_xknxproject_version\")}</div>\n              <div>${projectInfo.xknxproject_version}</div>\n            </div>\n            <div class=\"knx-button-row\">\n              <ha-button\n                class=\"knx-warning push-right\"\n                @click=${this._removeProject}\n                .disabled=${this._uploading || !this.knx.info.project}\n                >\n                ${this.knx.localize(\"info_project_delete\")}\n              </ha-button>\n            </div>\n          </div>\n        </div>\n      </ha-card>\n    `;\n  }\n\n  private _renderProjectUploadCard() {\n    return html` <ha-card class=\"knx-info\">\n      <div class=\"card-content knx-content\">\n        <div class=\"knx-content-row header\">${this.knx.localize(\"info_project_file_header\")}</div>\n        <div class=\"knx-content-row\">${this.knx.localize(\"info_project_upload_description\")}</div>\n        <div class=\"knx-content-row\">\n          <ha-file-upload\n            .hass=${this.hass}\n            accept=\".knxproj, .knxprojarchive\"\n            .icon=${mdiFileUpload}\n            .label=${this.knx.localize(\"info_project_file\")}\n            .value=${this._projectFile?.name}\n            .uploading=${this._uploading}\n            @file-picked=${this._filePicked}\n          ></ha-file-upload>\n        </div>\n        <div class=\"knx-content-row\">\n          <ha-selector-text\n            .hass=${this.hass}\n            .value=${this._projectPassword || \"\"}\n            .label=${this.hass.localize(\"ui.login-form.password\")}\n            .selector=${{ text: { multiline: false, type: \"password\" } }}\n            .required=${false}\n            @value-changed=${this._passwordChanged}\n          >\n          </ha-selector-text>\n        </div>\n        <div class=\"knx-button-row\">\n          <ha-button\n            class=\"push-right\"\n            @click=${this._uploadFile}\n            .disabled=${this._uploading || !this._projectFile}\n            >${this.hass.localize(\"ui.common.submit\")}</ha-button\n          >\n        </div>\n      </div>\n    </ha-card>`;\n  }\n\n  private _filePicked(ev) {\n    this._projectFile = ev.detail.files[0];\n  }\n\n  private _passwordChanged(ev) {\n    this._projectPassword = ev.detail.value;\n  }\n\n  private async _uploadFile(_ev) {\n    const file = this._projectFile;\n    if (typeof file === \"undefined\") {\n      return;\n    }\n\n    let error: Error | undefined;\n    this._uploading = true;\n    try {\n      const project_file_id = await uploadFile(this.hass, file);\n      await processProjectFile(this.hass, project_file_id, this._projectPassword || \"\");\n    } catch (err: any) {\n      error = err;\n      showAlertDialog(this, {\n        title: \"Upload failed\",\n        text: extractApiErrorMessage(err),\n      });\n    } finally {\n      if (!error) {\n        this._projectFile = undefined;\n        this._projectPassword = undefined;\n      }\n      this._uploading = false;\n      fireEvent(this, \"knx-reload\");\n    }\n  }\n\n  private async _removeProject(_ev) {\n    const confirmed = await showConfirmationDialog(this, {\n      text: this.knx.localize(\"info_project_delete\"),\n    });\n    if (!confirmed) {\n      logger.debug(\"User cancelled deletion\");\n      return;\n    }\n\n    try {\n      await removeProjectFile(this.hass);\n    } catch (err: any) {\n      showAlertDialog(this, {\n        title: \"Deletion failed\",\n        text: extractApiErrorMessage(err),\n      });\n    } finally {\n      fireEvent(this, \"knx-reload\");\n    }\n  }\n\n  static get styles(): CSSResultGroup {\n    return css`\n      .columns {\n        display: flex;\n        justify-content: center;\n      }\n\n      @media screen and (max-width: 1232px) {\n        .columns {\n          flex-direction: column;\n        }\n\n        .knx-button-row {\n          margin-top: 20px;\n        }\n\n        .knx-info {\n          margin-right: 8px;\n        }\n      }\n\n      @media screen and (min-width: 1233px) {\n        .knx-button-row {\n          margin-top: auto;\n        }\n\n        .knx-info {\n          width: 400px;\n        }\n      }\n\n      .knx-info {\n        margin-left: 8px;\n        margin-top: 8px;\n      }\n\n      .knx-content {\n        display: flex;\n        flex-direction: column;\n        height: 100%;\n        box-sizing: border-box;\n      }\n\n      .knx-content-row {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n      }\n\n      .knx-content-row > div:nth-child(2) {\n        margin-left: 1rem;\n      }\n\n      .knx-button-row {\n        display: flex;\n        flex-direction: row;\n        vertical-align: bottom;\n        padding-top: 16px;\n      }\n\n      .push-left {\n        margin-right: auto;\n      }\n\n      .push-right {\n        margin-left: auto;\n      }\n\n      .knx-warning {\n        --mdc-theme-primary: var(--error-color);\n      }\n\n      .knx-project-description {\n        margin-top: -8px;\n        padding: 0px 16px 16px;\n      }\n\n      .knx-delete-project-button {\n        position: absolute;\n        bottom: 0;\n        right: 0;\n      }\n\n      .knx-bug-report {\n        margin-top: 20px;\n\n        a {\n          text-decoration: none;\n        }\n      }\n\n      .header {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 48px;\n        padding: -4px 16px 16px;\n        display: inline-block;\n        margin-block-start: 0px;\n        margin-block-end: 4px;\n        font-weight: normal;\n      }\n\n      ha-file-upload,\n      ha-selector-text {\n        width: 100%;\n        margin-top: 8px;\n      }\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"knx-info\": KNXInfo;\n  }\n}\n","export const VERSION = \"2024.9.10.221729\";\n"],"names":[],"sourceRoot":""}