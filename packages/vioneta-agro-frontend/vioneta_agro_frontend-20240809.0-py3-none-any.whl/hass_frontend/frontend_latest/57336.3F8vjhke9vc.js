export const id=57336;export const ids=[57336,45346];export const modules={78691:(t,e,a)=>{a.a(t,(async(t,i)=>{try{a.d(e,{EO:()=>c,ol:()=>d,xo:()=>l});var n=a(35193),o=a(45269),s=t([n]);n=(s.then?(await s)():s)[0];const r=(t,e,a,i)=>{const o=a((0,n.L_)(t,e),i);return o instanceof Date?(0,n.uk)(o,e):o},d=(t,e,a,i,n)=>a.time_zone===o.Wj.server?r(t,i.time_zone,e,n):e(t,n),l=(t,e,a,i,n)=>a.time_zone===o.Wj.server?r(t,i.time_zone,e,n):e(t,n),c=(t,e,a,i,s)=>l(t,a,i,s,i.time_zone===o.Wj.server?(0,n.L_)(e,s.time_zone):e);i()}catch(t){i(t)}}))},30125:(t,e,a)=>{a.a(t,(async(t,i)=>{try{a.d(e,{K:()=>l});var n=a(13265),o=a(94100),s=a(30157),r=t([n,s]);[n,s]=r.then?(await r)():r;const d=(0,o.A)((t=>new Intl.RelativeTimeFormat(t.language,{numeric:"auto"}))),l=(t,e,a,i=!0)=>{const n=(0,s.x)(t,a,e);return i?d(e).format(n.value,n.unit):Intl.NumberFormat(e.language,{style:"unit",unit:n.unit,unitDisplay:"long"}).format(Math.abs(n.value))};i()}catch(t){i(t)}}))},37456:(t,e,a)=>{a.d(e,{a:()=>n});const i=(0,a(58034).n)((t=>{history.replaceState({scrollPosition:t},"")}),300),n=t=>e=>({kind:"method",placement:"prototype",key:e.key,descriptor:{set(t){i(t),this[`__${String(e.key)}`]=t},get(){return this[`__${String(e.key)}`]||history.state?.scrollPosition},enumerable:!0,configurable:!0},finisher(a){const i=a.prototype.connectedCallback;a.prototype.connectedCallback=function(){i.call(this);const a=this[e.key];a&&this.updateComplete.then((()=>{const e=this.renderRoot.querySelector(t);e&&setTimeout((()=>{e.scrollTop=a}),0)}))}}})},49281:(t,e,a)=>{a.d(e,{Z:()=>i});const i=t=>t.charAt(0).toUpperCase()+t.slice(1)},30157:(t,e,a)=>{a.a(t,(async(t,i)=>{try{a.d(e,{x:()=>h});var n=a(31195),o=a(24085),s=a(13581),r=a(58558);const d=1e3,l=60,c=60*l;function h(t,e=Date.now(),a,i={}){const h={...u,...i||{}},k=(+t-+e)/d;if(Math.abs(k)<h.second)return{value:Math.round(k),unit:"second"};const p=k/l;if(Math.abs(p)<h.minute)return{value:Math.round(p),unit:"minute"};const y=k/c;if(Math.abs(y)<h.hour)return{value:Math.round(y),unit:"hour"};const v=new Date(t),m=new Date(e);v.setHours(0,0,0,0),m.setHours(0,0,0,0);const g=(0,n.c)(v,m);if(0===g)return{value:Math.round(y),unit:"hour"};if(Math.abs(g)<h.day)return{value:g,unit:"day"};const _=(0,r.PE)(a),f=(0,o.k)(v,{weekStartsOn:_}),b=(0,o.k)(m,{weekStartsOn:_}),w=(0,s.I)(f,b);if(0===w)return{value:g,unit:"day"};if(Math.abs(w)<h.week)return{value:w,unit:"week"};const M=v.getFullYear()-m.getFullYear(),L=12*M+v.getMonth()-m.getMonth();return 0===L?{value:w,unit:"week"}:Math.abs(L)<h.month||0===M?{value:L,unit:"month"}:{value:Math.round(M),unit:"year"}}const u={second:45,minute:45,hour:22,day:5,week:4,month:11};i()}catch(k){i(k)}}))},45346:(t,e,a)=>{a.r(e),a.d(e,{HaIconButtonArrowPrev:()=>r});var i=a(36312),n=a(15112),o=a(77706),s=a(74005);a(28066);let r=(0,i.A)([(0,o.EM)("ha-icon-button-arrow-prev")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",decorators:[(0,o.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.MZ)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,o.MZ)()],key:"label",value:void 0},{kind:"field",decorators:[(0,o.wk)()],key:"_icon",value:()=>"rtl"===s.G.document.dir?"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z":"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z"},{kind:"method",key:"render",value:function(){return n.qy` <ha-icon-button .disabled="${this.disabled}" .label="${this.label||this.hass?.localize("ui.common.back")||"Back"}" .path="${this._icon}"></ha-icon-button> `}}]}}),n.WF)},13740:(t,e,a)=>{a.a(t,(async(t,e)=>{try{var i=a(36312),n=a(68689),o=a(15112),s=a(77706),r=a(30125),d=a(49281),l=t([r]);r=(l.then?(await l)():l)[0];(0,i.A)([(0,s.EM)("ha-relative-time")],(function(t,e){class a extends e{constructor(...e){super(...e),t(this)}}return{F:a,d:[{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.MZ)({attribute:!1})],key:"datetime",value:void 0},{kind:"field",decorators:[(0,s.MZ)({type:Boolean})],key:"capitalize",value:()=>!1},{kind:"field",key:"_interval",value:void 0},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.A)(a,"disconnectedCallback",this,3)([]),this._clearInterval()}},{kind:"method",key:"connectedCallback",value:function(){(0,n.A)(a,"connectedCallback",this,3)([]),this.datetime&&this._startInterval()}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"firstUpdated",value:function(t){(0,n.A)(a,"firstUpdated",this,3)([t]),this._updateRelative()}},{kind:"method",key:"update",value:function(t){(0,n.A)(a,"update",this,3)([t]),this._updateRelative()}},{kind:"method",key:"_clearInterval",value:function(){this._interval&&(window.clearInterval(this._interval),this._interval=void 0)}},{kind:"method",key:"_startInterval",value:function(){this._clearInterval(),this._interval=window.setInterval((()=>this._updateRelative()),6e4)}},{kind:"method",key:"_updateRelative",value:function(){if(this.datetime){const t=(0,r.K)(new Date(this.datetime),this.hass.locale);this.innerHTML=this.capitalize?(0,d.Z)(t):t}else this.innerHTML=this.hass.localize("ui.components.relative_time.never")}}]}}),o.mN);e()}catch(t){e(t)}}))},50808:(t,e,a)=>{var i=a(36312),n=a(11514),o=a(21025),s=a(15112),r=a(77706);(0,i.A)([(0,r.EM)("ha-top-app-bar-fixed")],(function(t,e){return{F:class extends e{constructor(...e){super(...e),t(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[o.R,s.AH`.mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:var(--header-height)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:400;color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary))}.mdc-top-app-bar__title{padding-inline-start:20px;padding-inline-end:initial}`]}]}}),n.$)},71443:(t,e,a)=>{a.d(e,{TK:()=>r,_2:()=>l,eR:()=>n,hG:()=>d,hU:()=>o,kg:()=>s,wj:()=>i,xg:()=>c});a(89655),a(16891);const i="system-admin",n="system-users",o=async t=>t.callWS({type:"config/auth/list"}),s=async(t,e,a,i)=>t.callWS({type:"config/auth/create",name:e,group_ids:a,local_only:i}),r=async(t,e,a)=>t.callWS({...a,type:"config/auth/update",user_id:e}),d=async(t,e)=>t.callWS({type:"config/auth/delete",user_id:e}),l=t=>t?t.trim().split(" ").slice(0,3).map((t=>t.substring(0,1))).join(""):"?",c=(t,e,a)=>{const i=[],n=e=>t.localize(`ui.panel.config.users.${e}`);return e.is_owner&&i.push(["M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z",n("is_owner")]),a&&e.system_generated&&i.push(["M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z",n("is_system")]),e.local_only&&i.push(["M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14",n("is_local")]),e.is_active||i.push(["M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z",n("is_not_active")]),i}},57273:(t,e,a)=>{a.d(e,{L:()=>n,z:()=>o});var i=a(99890);const n=["input_boolean","input_button","input_text","input_number","input_datetime","input_select","counter","timer","schedule"],o=(0,i.g)(n)},26387:(t,e,a)=>{a.a(t,(async(t,i)=>{try{a.r(e),a.d(e,{HaPanelLogbook:()=>m});var n=a(36312),o=a(68689),s=(a(253),a(5186),a(74860),a(71011),a(71174),a(15112)),r=a(77706),d=a(16312),l=a(20732),c=a(56932),h=(a(94548),a(9043)),u=(a(28066),a(45346),a(11804),a(50808),a(78573)),k=a(55321),p=a(88316),y=t([h,p]);[h,p]=y.then?(await y)():y;const v="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z";let m=(0,n.A)([(0,r.EM)("ha-panel-logbook")],(function(t,e){class a extends e{constructor(){super(),t(this);const e=new Date;e.setHours(e.getHours()-1,0,0,0);const a=new Date;a.setHours(a.getHours()+2,0,0,0),this._time={range:[e,a]}}}return{F:a,d:[{kind:"field",decorators:[(0,r.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,r.wk)()],key:"_time",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_entityIds",value:void 0},{kind:"field",decorators:[(0,r.wk)()],key:"_showBack",value:void 0},{kind:"method",key:"_goBack",value:function(){history.back()}},{kind:"method",key:"render",value:function(){return s.qy` <ha-top-app-bar-fixed> ${this._showBack?s.qy` <ha-icon-button-arrow-prev slot="navigationIcon" @click="${this._goBack}"></ha-icon-button-arrow-prev> `:s.qy` <ha-menu-button slot="navigationIcon" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> `} <div slot="title">${this.hass.localize("panel.logbook")}</div> <ha-icon-button slot="actionItems" @click="${this._refreshLogbook}" .path="${v}" .label="${this.hass.localize("ui.common.refresh")}"></ha-icon-button> <div class="filters"> <ha-date-range-picker .hass="${this.hass}" .startDate="${this._time.range[0]}" .endDate="${this._time.range[1]}" @change="${this._dateRangeChanged}"></ha-date-range-picker> <ha-entity-picker .hass="${this.hass}" .value="${this._entityIds?this._entityIds[0]:void 0}" .label="${this.hass.localize("ui.components.entity.entity-picker.entity")}" .entityFilter="${u.rc}" @change="${this._entityPicked}"></ha-entity-picker> </div> <ha-logbook .hass="${this.hass}" .time="${this._time}" .entityIds="${this._entityIds}" virtualize></ha-logbook> </ha-top-app-bar-fixed> `}},{kind:"method",key:"willUpdate",value:function(t){(0,o.A)(a,"willUpdate",this,3)([t]),this.hasUpdated||this._applyURLParams()}},{kind:"method",key:"firstUpdated",value:function(t){(0,o.A)(a,"firstUpdated",this,3)([t]),this.hass.loadBackendTranslation("title");"1"===(0,c.px)().back&&history.length>1&&(this._showBack=!0,(0,d.o)((0,l.Z)((0,c.s8)("back")),{replace:!0}))}},{kind:"method",key:"connectedCallback",value:function(){(0,o.A)(a,"connectedCallback",this,3)([]),window.addEventListener("location-changed",this._locationChanged)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,o.A)(a,"disconnectedCallback",this,3)([]),window.removeEventListener("location-changed",this._locationChanged)}},{kind:"field",key:"_locationChanged",value(){return()=>{this._applyURLParams()}}},{kind:"method",key:"_applyURLParams",value:function(){const t=new URLSearchParams(location.search);if(t.has("entity_id")){const e=t.get("entity_id");if(e){const t=e.split(",").sort();this._entityIds&&t.length===this._entityIds.length&&this._entityIds.every(((e,a)=>e===t[a]))||(this._entityIds=t)}else this._entityIds=void 0}else this._entityIds=void 0;const e=t.get("start_date"),a=t.get("end_date");if(e||a){const t=e?new Date(e):this._time.range[0],i=a?new Date(a):this._time.range[1];t.getTime()===this._time.range[0].getTime()&&i.getTime()===this._time.range[1].getTime()||(this._time={range:[e?new Date(e):this._time.range[0],a?new Date(a):this._time.range[1]]})}}},{kind:"method",key:"_dateRangeChanged",value:function(t){const e=t.detail.startDate,a=t.detail.endDate;0===a.getHours()&&0===a.getMinutes()&&(a.setDate(a.getDate()+1),a.setMilliseconds(a.getMilliseconds()-1)),this._updatePath({start_date:e.toISOString(),end_date:a.toISOString()})}},{kind:"method",key:"_entityPicked",value:function(t){this._updatePath({entity_id:t.target.value||void 0})}},{kind:"method",key:"_updatePath",value:function(t){const e=(0,c.px)();for(const[a,i]of Object.entries(t))void 0===i?delete e[a]:e[a]=i;(0,d.o)(`/logbook?${(0,c.KH)(e)}`,{replace:!0})}},{kind:"method",key:"_refreshLogbook",value:function(){this.shadowRoot.querySelector("ha-logbook")?.refresh()}},{kind:"get",static:!0,key:"styles",value:function(){return[k.RF,s.AH`ha-logbook{height:calc(100vh - 136px)}:host([narrow]) ha-logbook{height:calc(100vh - 198px)}ha-date-range-picker{margin-right:16px;margin-inline-end:16px;margin-inline-start:initial;max-width:100%;direction:var(--direction)}:host([narrow]) ha-date-range-picker{margin-right:0;margin-inline-end:0;margin-inline-start:initial;direction:var(--direction);margin-bottom:8px}.filters{display:flex;align-items:flex-end;padding:8px 16px 0}:host([narrow]) .filters{flex-wrap:wrap}ha-entity-picker{display:inline-block;flex-grow:1;max-width:400px}:host([narrow]) ha-entity-picker{max-width:none;width:100%}`]}}]}}),s.WF);i()}catch(t){i(t)}}))},28884:(t,e,a)=>{a.d(e,{i:()=>i});const i=async()=>{await a.e(1138).then(a.bind(a,1138))}}};
//# sourceMappingURL=57336.3F8vjhke9vc.js.map